let t=(void 0!==typeof globalThis?globalThis:void 0!==typeof window?window:void 0!==typeof global?global:void 0!==typeof self?self:void 0!==typeof this?this:{}).performance;void 0===t&&(t={});const n={upperLetters:["A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],lowerLetters:["a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],numbers:[0,1,2,3,4,5,6,7,8,9]};function e(t){let e=0;const r=t.split("").map((t=>{let r;const o=function(t){const e=t.charCodeAt();return e>47&&e<58?n.numbers:e>64&&e<91?n.upperLetters:e>96&&e<123?n.lowerLetters:void 0}(t);return r=o?o[function(t){return Math.floor(Math.random()*Math.floor(t))}(o.length-1)]:t,r!==t&&e++,r})).join("");return e<t.length/2?Array.from({length:r.length}).fill("*").join(""):r}var r=function t(n){let e=n;var r={}.toString.call(n).slice(8,-1);if("Set"==r)return new Set([...n].map((n=>t(n))));if("Map"==r)return new Map([...n].map((n=>[t(n[0]),t(n[1])])));if("Date"==r)return new Date(n.getTime());if("RegExp"==r)return RegExp(n.source,function(t){if("string"==typeof t.source.flags)return t.source.flags;var n=[];return t.global&&n.push("g"),t.ignoreCase&&n.push("i"),t.multiline&&n.push("m"),t.sticky&&n.push("y"),t.unicode&&n.push("u"),n.join("")}(n));if("Array"==r||"Object"==r)for(var o in e=Array.isArray(n)?[]:{},n)e[o]=t(n[o]);return e};var o,u="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};function a(t){if(Object.keys)return Object.keys(t);var n=[];for(var e in t)n.push(e);return n}function c(t,n){if(t.forEach)return t.forEach(n);for(var e=0;e<t.length;e++)n(t[e],e,t)}function s(){try{return Object.defineProperty({},"_",{}),function(t,n,e){Object.defineProperty(t,n,{writable:!0,enumerable:!1,configurable:!0,value:e})}}catch(t){return function(t,n,e){t[n]=e}}}var f=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];function l(){}function p(t){if(!(this instanceof p))return new p(t);this.code=t}function h(t){if(d(t))return t;var n=new l;return"object"==typeof t&&c(a(t),(function(e){n[e]=t[e]})),n}function d(t){return t instanceof l}l.prototype={},p.prototype.runInContext=function(t){if(!(t instanceof l))throw new TypeError("needs a 'context' argument.");if(u.document){var n=u.document.createElement("iframe");n.style||(n.style={}),n.style.display="none",u.document.body.appendChild(n);var e=n.contentWindow,r=e.eval,i=e.execScript;!r&&i&&(i.call(e,"null"),r=e.eval),c(a(t),(function(n){e[n]=t[n]})),c(f,(function(n){t[n]&&(e[n]=t[n])}));var p=a(e),h=r.call(e,this.code);return c(a(e),(function(n){(n in t||-1===function(t,n){if(g)return t.indexOf(n);for(var e=0;e<t.length;++e)if(t[e]===n)return e;return-1}(p,n))&&(t[n]=e[n])})),c(f,(function(n){n in t||function(t,n,e){"function"!=typeof o&&(o=s),o(t,n,e)}(t,n,e[n])})),u.document.body.removeChild(n),h}return function(t,n){var e=a(u);return e.push("with (this.__ctx__){return eval(this.__code__)}"),Function.apply(null,e).apply({__code__:t,__ctx__:n})}(this.code,t)},p.prototype.runInThisContext=function(){return new Function("code","return eval(code);").call(u,this.code)},p.prototype.runInNewContext=function(t){var n=h(t),e=this.runInContext(n);return t&&c(a(n),(function(e){t[e]=n[e]})),e};var y={runInContext:function(t,n,e){return new p(t).runInContext(n,e)},isContext:d,createContext:h,createScript:function(t){return new p(t)},Script:p,runInThisContext:function(t,n){return new p(t).runInThisContext(n)},runInNewContext:function(t,n,e){return new p(t).runInNewContext(n,e)}},g=[].indexOf;const{hasOwnProperty:v}=Object.prototype;function m(t,n){return(t=t.slice()).push(n),t}function w(t,n){return(n=n.slice()).unshift(t),n}class b extends Error{constructor(t){super('JSONPath should not be called with "new" (it prevents return of (unwrapped) scalar values)'),this.avoidNew=!0,this.value=t,this.name="NewError"}}function _(t,n,e,r,o){if(!(this instanceof _))try{return new _(t,n,e,r,o)}catch(t){if(!t.avoidNew)throw t;return t.value}"string"==typeof t&&(o=r,r=e,e=n,n=t,t=null);const u=t&&"object"==typeof t;if(t=t||{},this.json=t.json||e,this.path=t.path||n,this.resultType=t.resultType||"value",this.flatten=t.flatten||!1,this.wrap=!v.call(t,"wrap")||t.wrap,this.sandbox=t.sandbox||{},this.preventEval=t.preventEval||!1,this.parent=t.parent||null,this.parentProperty=t.parentProperty||null,this.callback=t.callback||r||null,this.otherTypeCallback=t.otherTypeCallback||o||function(){throw new TypeError("You must supply an otherTypeCallback callback option with the @other() operator.")},!1!==t.autostart){const r={path:u?t.path:n};u?"json"in t&&(r.json=t.json):r.json=e;const o=this.evaluate(r);if(!o||"object"!=typeof o)throw new b(o);return o}}_.prototype.evaluate=function(t,n,e,r){let o=this.parent,u=this.parentProperty,{flatten:i,wrap:a}=this;if(this.currResultType=this.resultType,this.currPreventEval=this.preventEval,this.currSandbox=this.sandbox,e=e||this.callback,this.currOtherTypeCallback=r||this.otherTypeCallback,n=n||this.json,(t=t||this.path)&&"object"==typeof t&&!Array.isArray(t)){if(!t.path&&""!==t.path)throw new TypeError('You must supply a "path" property when providing an object argument to JSONPath.evaluate().');if(!v.call(t,"json"))throw new TypeError('You must supply a "json" property when providing an object argument to JSONPath.evaluate().');({json:n}=t),i=v.call(t,"flatten")?t.flatten:i,this.currResultType=v.call(t,"resultType")?t.resultType:this.currResultType,this.currSandbox=v.call(t,"sandbox")?t.sandbox:this.currSandbox,a=v.call(t,"wrap")?t.wrap:a,this.currPreventEval=v.call(t,"preventEval")?t.preventEval:this.currPreventEval,e=v.call(t,"callback")?t.callback:e,this.currOtherTypeCallback=v.call(t,"otherTypeCallback")?t.otherTypeCallback:this.currOtherTypeCallback,o=v.call(t,"parent")?t.parent:o,u=v.call(t,"parentProperty")?t.parentProperty:u,t=t.path}if(o=o||null,u=u||null,Array.isArray(t)&&(t=_.toPathString(t)),!t&&""!==t||!n)return;const c=_.toPathArray(t);"$"===c[0]&&c.length>1&&c.shift(),this._hasParentSelector=null;const s=this._trace(c,n,["$"],o,u,e).filter((function(t){return t&&!t.isParentSelector}));return s.length?a||1!==s.length||s[0].hasArrExpr?s.reduce(((t,n)=>{const e=this._getPreferredOutput(n);return i&&Array.isArray(e)?t=t.concat(e):t.push(e),t}),[]):this._getPreferredOutput(s[0]):a?[]:void 0},_.prototype._getPreferredOutput=function(t){const n=this.currResultType;switch(n){case"all":{const n=Array.isArray(t.path)?t.path:_.toPathArray(t.path);return t.pointer=_.toPointer(n),t.path="string"==typeof t.path?t.path:_.toPathString(t.path),t}case"value":case"parent":case"parentProperty":return t[n];case"path":return _.toPathString(t[n]);case"pointer":return _.toPointer(t.path);default:throw new TypeError("Unknown result type")}},_.prototype._handleCallback=function(t,n,e){if(n){const r=this._getPreferredOutput(t);t.path="string"==typeof t.path?t.path:_.toPathString(t.path),n(r,e,t)}},_.prototype._trace=function(t,n,e,r,o,u,i,a){let c;if(!t.length)return c={path:e,value:n,parent:r,parentProperty:o,hasArrExpr:i},this._handleCallback(c,u,"value"),c;const s=t[0],f=t.slice(1),l=[];function p(t){Array.isArray(t)?t.forEach((t=>{l.push(t)})):l.push(t)}if(("string"!=typeof s||a)&&n&&v.call(n,s))p(this._trace(f,n[s],m(e,s),n,s,u,i));else if("*"===s)this._walk(n,(t=>{p(this._trace(f,n[t],m(e,t),n,t,u,!0,!0))}));else if(".."===s)p(this._trace(f,n,e,r,o,u,i)),this._walk(n,(r=>{"object"==typeof n[r]&&p(this._trace(t.slice(),n[r],m(e,r),n,r,u,!0))}));else{if("^"===s)return this._hasParentSelector=!0,{path:e.slice(0,-1),expr:f,isParentSelector:!0};if("~"===s)return c={path:m(e,s),value:o,parent:r,parentProperty:null},this._handleCallback(c,u,"property"),c;if("$"===s)p(this._trace(f,n,e,null,null,u,i));else if(/^(-?\d*):(-?\d*):?(\d*)$/u.test(s))p(this._slice(s,f,n,e,r,o,u));else if(0===s.indexOf("?(")){if(this.currPreventEval)throw new Error("Eval [?(expr)] prevented in JSONPath expression.");const t=s.replace(/^\?\((.*?)\)$/u,"$1");this._walk(n,(i=>{this._eval(t,n[i],i,e,r,o)&&p(this._trace(f,n[i],m(e,i),n,i,u,!0))}))}else if("("===s[0]){if(this.currPreventEval)throw new Error("Eval [(expr)] prevented in JSONPath expression.");p(this._trace(w(this._eval(s,n,e[e.length-1],e.slice(0,-1),r,o),f),n,e,r,o,u,i))}else if("@"===s[0]){let t=!1;const i=s.slice(1,-2);switch(i){case"scalar":n&&["object","function"].includes(typeof n)||(t=!0);break;case"boolean":case"string":case"undefined":case"function":typeof n===i&&(t=!0);break;case"integer":!Number.isFinite(n)||n%1||(t=!0);break;case"number":Number.isFinite(n)&&(t=!0);break;case"nonFinite":"number"!=typeof n||Number.isFinite(n)||(t=!0);break;case"object":n&&typeof n===i&&(t=!0);break;case"array":Array.isArray(n)&&(t=!0);break;case"other":t=this.currOtherTypeCallback(n,e,r,o);break;case"null":null===n&&(t=!0);break;default:throw new TypeError("Unknown value type "+i)}if(t)return c={path:e,value:n,parent:r,parentProperty:o},this._handleCallback(c,u,"value"),c}else if("`"===s[0]&&n&&v.call(n,s.slice(1))){const t=s.slice(1);p(this._trace(f,n[t],m(e,t),n,t,u,i,!0))}else if(s.includes(",")){const t=s.split(",");for(const i of t)p(this._trace(w(i,f),n,e,r,o,u,!0))}else!a&&n&&v.call(n,s)&&p(this._trace(f,n[s],m(e,s),n,s,u,i,!0))}if(this._hasParentSelector)for(let t=0;t<l.length;t++){const e=l[t];if(e&&e.isParentSelector){const a=this._trace(e.expr,n,e.path,r,o,u,i);if(Array.isArray(a)){l[t]=a[0];const n=a.length;for(let e=1;e<n;e++)t++,l.splice(t,0,a[e])}else l[t]=a}}return l},_.prototype._walk=function(t,n){if(Array.isArray(t)){const e=t.length;for(let t=0;t<e;t++)n(t)}else t&&"object"==typeof t&&Object.keys(t).forEach((t=>{n(t)}))},_.prototype._slice=function(t,n,e,r,o,u,i){if(!Array.isArray(e))return;const a=e.length,c=t.split(":"),s=c[2]&&Number.parseInt(c[2])||1;let f=c[0]&&Number.parseInt(c[0])||0,l=c[1]&&Number.parseInt(c[1])||a;f=f<0?Math.max(0,f+a):Math.min(a,f),l=l<0?Math.max(0,l+a):Math.min(a,l);const p=[];for(let t=f;t<l;t+=s){this._trace(w(t,n),e,r,o,u,i,!0).forEach((t=>{p.push(t)}))}return p},_.prototype._eval=function(t,n,e,r,o,u){this.currSandbox._$_parentProperty=u,this.currSandbox._$_parent=o,this.currSandbox._$_property=e,this.currSandbox._$_root=this.json,this.currSandbox._$_v=n;const i=t.includes("@path");i&&(this.currSandbox._$_path=_.toPathString(r.concat([e])));const a="script:"+t;if(!_.cache[a]){let n=t.replace(/@parentProperty/gu,"_$_parentProperty").replace(/@parent/gu,"_$_parent").replace(/@property/gu,"_$_property").replace(/@root/gu,"_$_root").replace(/@([.\s)[])/gu,"_$_v$1");i&&(n=n.replace(/@path/gu,"_$_path")),_.cache[a]=new this.vm.Script(n)}try{return _.cache[a].runInNewContext(this.currSandbox)}catch(n){throw new Error("jsonPath: "+n.message+": "+t)}},_.cache={},_.toPathString=function(t){const n=t,e=n.length;let r="$";for(let t=1;t<e;t++)/^(~|\^|@.*?\(\))$/u.test(n[t])||(r+=/^[0-9*]+$/u.test(n[t])?"["+n[t]+"]":"['"+n[t]+"']");return r},_.toPointer=function(t){const n=t,e=n.length;let r="";for(let t=1;t<e;t++)/^(~|\^|@.*?\(\))$/u.test(n[t])||(r+="/"+n[t].toString().replace(/~/gu,"~0").replace(/\//gu,"~1"));return r},_.toPathArray=function(t){const{cache:n}=_;if(n[t])return n[t].concat();const e=[],r=t.replace(/@(?:null|boolean|number|string|integer|undefined|nonFinite|scalar|array|object|function|other)\(\)/gu,";$&;").replace(/[['](\??\(.*?\))[\]']/gu,(function(t,n){return"[#"+(e.push(n)-1)+"]"})).replace(/\[['"]([^'\]]*)['"]\]/gu,(function(t,n){return"['"+n.replace(/\./gu,"%@%").replace(/~/gu,"%%@@%%")+"']"})).replace(/~/gu,";~;").replace(/['"]?\.['"]?(?![^[]*\])|\[['"]?/gu,";").replace(/%@%/gu,".").replace(/%%@@%%/gu,"~").replace(/(?:;)?(\^+)(?:;)?/gu,(function(t,n){return";"+n.split("").join(";")+";"})).replace(/;;;|;;/gu,";..;").replace(/;$|'?\]|'$/gu,""),o=r.split(";").map((function(t){const n=t.match(/#(\d+)/u);return n&&n[1]?e[n[1]]:t}));return n[t]=o,n[t].concat()},_.prototype.vm=y;const A=(t,n)=>e=>{let r=e;return"function"==typeof n&&(r=n(e)),console.log(`${t}: ${r}`),e};class E extends Error{constructor(t="GENERIC",n=t,e={status:500}){super(n),super.name=t,Error.captureStackTrace&&Error.captureStackTrace(this,E),this.data=e}map(t){return this}chain(t){return this}static of=E}function j(t){return class extends E{constructor(n,e,r){super(n,e,r),this.name=t}}}class x{constructor(t,n){let e,o,u;if(!1===Array.isArray(t))throw new E("NOT_AN_ARRAY","Only Array composed of non objects are permitted");if(t.filter((t=>"object"===t)).length>0)throw new E("ARRAY_VALUES_MUST_BE_OF_BASIC_TYPE","Only basic types are allowed");let i=t.filter((t=>"get"===t||"set"===t||"getValue"===t));if(i.length>0)throw new E("ENUM_INVALID_ENUM_VALUE",`The following ENUM value/s are not allowed: ${i} as they are reserved words for enum`);let a=$(t);return e=T(a,(function(){return!1})),o=t[0],e[o]=!0,void 0!==n&&function(t){if(null===t||"object"!=typeof t||!0===Array.isArray(t))throw new E("ENUM_RULES_BAD_FORMAT","rules is not an object: "+t);for(let n in t){if(void 0===e[n]||!1===Array.isArray(t[n]))throw new E("ENUM_RULES_BAD_FORMAT","Each attribute of rules must be an element in the ENUM and its value should be an array: "+e[n]+t[n]);let r=t[n].filter((t=>void 0===e[t]));if(r.length>0)throw new E("ENUM_RULES_BAD_FORMAT","All elements in a rule entry must be one of the list values in the ENUM. The following values dont exist: "+r)}u=r(t)}(n),this.get=function(t,n){if("getValue"===n)return c;if(null==e[n])throw new E("ENUM_INVALID_PROPERTY",`.${n} is none of the possible values ${this}`);return e[n]},this.set=function(t,n,r){if(!0!==r)throw new E("ENUM_ACTIVATION_NO_TRUE",`Tryng to set ${n} with ${r} but activation only admits true`);if(void 0===e[n])throw new E("ENUM_INVALID_PROPERTY",`.${n} is none of the possible values ${this}`);if(!function(t,n){return void 0===u||void 0!==u[t]&&-1!==u[t].indexOf(n)}(o,n))throw new E("ENUM_TRANSITION_NOT_ALLOWED",`.From: ${o} --\x3e To: ${n}`);e[o]=!1,e[n]=!0,o=n;return!0},this.getValue=c,new Proxy(e,this);function c(){return o}}}class O{constructor(t){return new Proxy(r(t),this)}get(t,n){if(null==t[n]&&null==this[n])throw new E("ENUM_OUT_OF_RANGE",`.${n} is none of the possible values ${this}`);return null!=this[n]?this[n]:t[n]}set(t,n){throw new E("ENUM_NOT_MODIFIABLE",`Object of .${n} is not modifiable`)}invert(){let t={};for(const n in this)this.hasOwnProperty(n)&&(void 0===t[this[n]]&&(t[this[n]]=[]),At(n,t[this[n]]));return Object.keys(t).reduce(((n,e)=>n&&1===t[e].length),!0)&&(t=Object.keys(t).reduce(((n,e)=>(n[e]=t[e][0],n)),{})),new O(r(t))}}function S(t,n,e){t.forEach((function(t){if(t!==t.toUpperCase())throw new E("STATE_MUST_BE_UPPERCASE",`The state: ${t} does not have all characters in uppercase`)})),n.forEach((function(t){if(t!==t.toLowerCase())throw new E("EVENT_MUST_BE_LOWERCASE",`The event: ${t} does not have all characters in lowercase`)}));let r=t[0],o=Object.entries(e).reduce(((t,[e,r])=>{i(e);let o=r;return"string"==typeof r?(i(r),o=n.reduce(((t,n)=>(t[n]=r,t)),{})):Object.entries(o).forEach((([t,n])=>{a(t),i(n)})),t[e]={...t[e],...o},t}),t.reduce(((t,e)=>(t[e]=n.reduce(((t,n)=>(t[n]=n.toUpperCase(),t)),{}),t)),{}));function u(t){return a(t),r=o[r][t]}return u.valueOf=()=>r,u;function i(n){if(!1===t.some((t=>t===n)))throw new E("STATE_NOT_FOUND",`The state: ${n} was not found in the list of states supplied: ${t}`)}function a(t){if(!1===n.some((n=>n===t)))throw new E("EVENT_NOT_FOUND",`The event: ${t} was not found in the list of events supplied: ${n}`)}}function T(t,n){return t.reduce(((t,e,r)=>(t[e]=n(e,r),t)),{})}function N(t){if("function"==typeof t?.[Symbol.iterator]){let n={};for(let e of t)for(const t in e)n[t]=e[t];return n}return arr.reduce(((t,n,e)=>{for(const e in n)t[e]=n[e];return t}),{})}function $(t){return[...new Set(t)]}function I(t,n,e=!0){const o=["$"],u=e?r(t):t;let i=!1,a={};a.$=u;let c=s(n,a,"$",o);return u!==a.$||!0===i||!1===c&&function t(e){if(e&&e instanceof Object&&!1===i)for(const r in e)if(e.hasOwnProperty(r)){o.push(r);let u=s(n,e,r,o);if(!0===i)return;!1===u&&t(e[r]),o.pop()}}(a.$),a.$;function s(t,n,e,r){let o=!1;if(t){const u=t(n[e],r,n,e);void 0!==u&&u!==I.stop&&u!==I.skip&&u!==I.delete&&(n[e]=u),u===I.stop&&(i=!0),u===I.skip&&(o=!0),u===I.delete&&(n[e]=void 0,o=!0)}return o}}function F(t,n,e){if(!1===Array.isArray(e))return;let r=0,o=0,u=!0;for(let i=0;u||i<o;i++){let a=[];for(let t=0;t<e.length;t++){a[t]={...e[t]};for(const r of n)u&&(o=e[t]?.[r]?.length>o?e[t][r].length:o),a[t][r]=e[t]?.[r]?.[i]}0!==o&&(t(a,r),r++),u=!1}}function P(t,n,e=!0){const o=Symbol();let u;if(null==n)return n;if(Array.isArray(n))u=[];else{if(Object.getPrototypeOf(n)!==Object.prototype){if(!1===Array.isArray(t))throw new Error("paths must be an array");return t.filter((t=>"+$"===t)).length-t.filter((t=>"-$"===t)).length>0?n:void 0}u={}}return t.forEach((t=>{if("+"!==t[0]&&"-"!==t[0])throw new Error("ivanlid format");const i="+"===t[0],a=_({resultType:"all",path:t.substring(1),json:n});let c=new Map;a.forEach((({pointer:t,value:n},a)=>{const s=t.substring(1).split("/");if(1===s.length&&""===s[0])u=i?r(n):void 0;else if(!0===e&&!1===i){const t=s.slice(0,-1),n=lt(u,t);if(!0===Array.isArray(n))c.set(t.join("/"),n),pt(u,s,o);else{delete n[s[s.length-1]],pt(u,t,n)}}else pt(u,s,i?r(n):void 0)})),c.forEach(((t,n)=>{const e=t.filter((t=>t!==o));pt(u,n.split("/"),e)}))})),u}function R(t,n,e=!1){return function(r){return n.map((n=>{let o,u;"object"==typeof n?(o=n.from,u=n.to):(o=n,u=n);let i=lt(r,o);null!=i&&(!0===e&&k(lt(t,u))&&pt(t,u,i),!1===e&&pt(t,u,i))})),t}}function M(t,n=!1){return function(e){return I(e,((e,r)=>{if(!1===function(t){const n="Object"===t?.constructor.name&&Object.keys(t).length>0||"Array"==t?.constructor.name&&t.length>0;return!n}(e))return;if(null==e)return;const o=r.slice(1-r.length);if(!0!==n)pt(t,o,e);else{k(lt(t,o))&&pt(t,o,e)}})),t}}function k(t){return!!(null==t||""===t||0===t||t!=t||Array.isArray(t)&&0===t?.length||"object"==typeof t&&0===Object.keys(t).length)}function C(t){return"string"==typeof t?t[0].toUpperCase()+t.substring(1).toLowerCase():t}function D(t){return Object.keys(t).reduce(((n,e)=>(n?n+"&":n)+e+"="+t[e]),"")}function U(t,n,e){if("string"!=typeof t)return t;return t.replace(/"{{([^=}]+)(?:=([^}]+))?}}"/g,((t,r,o)=>n&&void 0!==n[r]?"string"==typeof n[r]?'"'+n[r]+'"':"object"!=typeof n[r]?n[r]:"url"===e&&Array.isArray(n[r])?L(n[r]):"url"!==e||Array.isArray(n[r])?e?void 0:JSON.stringify(n[r]):W(n[r]):void 0===o?null:o.replace(/\\"/g,'"'))).replace(/{{([^=}]+)(?:=([^}]+))?}}/g,((t,r,o)=>n&&void 0!==n[r]?"object"!=typeof n[r]?n[r]:"url"===e&&Array.isArray(n[r])?L(n[r]):"url"!==e||Array.isArray(n[r])?e?void 0:JSON.stringify(n[r]):W(n[r]):void 0===o?null:o.replace(/\\"/g,"")))}function L(t){return t.reduce(((t,n)=>t+","+n))}function W(t){return Object.keys(t).reduce(((n,e)=>n+e+"="+t[e]+"&"),"").slice(0,-1)}function B(t,n,e){return{gatewayUrl:t,serviceName:n,servicePath:e,url:t+n+e}}function q(t,n){return n.filter((n=>t.split(n).length>=2)).map((n=>{const[e,...r]=t.split(n);return{gatewayUrl:e,serviceName:n,servicePath:r.join(n)}}))}function z(t,n,e){return t.split(n,e).join(n).length}function Y(t){return t?new Date(t):new Date}function V(t){return t instanceof Date&&!isNaN(t)}function J(t){return"string"==typeof t&&V(new Date(t))}function G(t){return n=>H(t,n)}function H(t,n){let e=Y(n);if(!1===V(e))return;const r=new O({January:"01",February:"02",March:"03",April:"04",May:"05",June:"06",July:"07",August:"08",September:"09",October:"10",November:"11",December:"12"}).invert(),o=new O({Sunday:"0",Monday:"1",Tuesday:"2",Wednesday:"3",Thursday:"4",Friday:"5",Saturday:"6"}).invert(),u=e.toISOString(),i=u.substring(0,4),a=u.substring(2,4),c=u.substring(5,7),s=u.substring(8,10),f=parseInt(s,10).toString(),l=u.substring(11,13),p=parseInt(l,10).toString(),h=u.substring(14,16),d=u.substring(17,19),y=u.substring(20,23),g=u.substring(20,22),v=r[c],m=o[e.getDay()];return t.replace(/\$YYYY/g,i).replace(/\$YY/g,a).replace(/\$MM/g,c).replace(/\$DD/g,s).replace(/\$D/g,f).replace(/\$hh/g,l).replace(/\$h/g,p).replace(/\$mm/g,h).replace(/\$ss/g,d).replace(/\$mil/g,y).replace(/\$mi/g,g).replace(/\$month/g,v).replace(/\$dayOfWeek/g,m)}function Z(t){const n=parseInt(t.substring(0,4)),e=parseInt(t.substring(5,7))-1,r=parseInt(t.substring(8,10)),o=parseInt(t.substring(11,13)),u=parseInt(t.substring(14,16)),i=parseInt(t.substring(17,19));return Date.UTC(n,e,r,o,u,i)}function K(t){let n=Y(t);if(!1===V(n))return;let e=n.toISOString();return{YYYY:parseInt(e.substring(0,4)),MM:parseInt(e.substring(5,7)),DD:parseInt(e.substring(8,10)),hh:parseInt(e.substring(11,13)),mm:parseInt(e.substring(14,16)),ss:parseInt(e.substring(17,19)),mil:parseInt(e.substring(20,23))}}function Q(t,n){return Math.ceil((new Date(n)-new Date(t))/864e5)}function X(t,n){let e=Y(n);return!1===V(e)?e:new Date(e.valueOf()-864e5*t)}function tt(t,n){let e=Y(n);return!1===V(e)?e:new Date(e.valueOf()+864e5*t)}function nt(t,n){let e=Y(n);if(!1===V(e))return e;let r=e.getDay()-t;return X(r>=0?r:7+r,e)}function et(t){let n=Y(t);if(!1===V(n))return n;const e=n.getUTCDay();return e>0&&e<6?n:X(0===e?2:1,n)}function rt(t){return"T00:00:00.000Z"===t?.toISOString?.()?.substring(10,24)}function ot(t){if("string"==typeof t)return new Date(t.substring(0,10));let n=void 0===t?new Date:V(t)?t:new Date(t);return isNaN(+n)||rt(n)?n:new Date(n.toISOString().substring(0,10))}I.skip=Symbol(),I.stop=Symbol(),I.delete=Symbol(),I.matchPath=function(t,n){let e=t.split(".");return e.length===n.length&&e.every(((t,e)=>"*"===t||t===n[e]))};const{colors:ut,colorMessage:it,colorMessageByStatus:at,colorByStatus:ct}=function(){const t={red:"[31m",green:"[32m",yellow:"[33m",cyan:"[36m",blue:"[34m",reset:"[0m",reverse:"[7m",fgBlack:"[30m",fgRed:"[31m",fgGreen:"[32m",fgYellow:"[33m",fgBlue:"[34m",fgMagenta:"[35m",fgCyan:"[36m",fgWhite:"[37m",bgBlack:"[40m",bgRed:"[41m",bgGreen:"[42m",bgYellow:"[43m",bgBlue:"[44m",bgMagenta:"[45m",bgCyan:"[46m",bgWhite:"[47m",bright:"[1m",dim:"[2m",underscore:"[4m",blink:"[5m",hidden:"[8m"};return{colors:t,colorMessage:(n,e)=>t[e]+n+t.reset,colorMessageByStatus:(n,e)=>{let r;return r=e>=200&e<300?t.green:e>=300&e<400?t.cyan:e>=400&e<500?t.yellow:t.red,r+n+t.reset},colorByStatus:n=>{let e;return e=n>=200&n<300?t.green:n>=300&n<400?t.cyan:n>=400&n<500?t.yellow:t.red,e}}}();function st(t,n){const e=[],r=[];return function t(o){for(const u in o)u===n&&(r.push([...e]),r[r.length-1].push(u),r.push(o[u])),null!==o[u]&&"object"==typeof o[u]&&(e.push(u),t(o[u]),e.pop())}(t),r}function ft(t){return Object.getOwnPropertyNames(t).forEach((n=>{null===t[n]||"object"!=typeof t[n]&&"function"!=typeof t[n]||ft(t[n])})),Object.freeze(t),t}function lt(t,n){if(null==t||null==n)return;if(""===n)return t;let e=t;const r="string"==typeof n?n.split("."):n;for(let t of r){if(void 0===e)return e;e=e instanceof Object?"$last"===t&&Array.isArray(e)?e[e.length-1]:e[t]:void 0}return e}function pt(t,n,e){const r="CREATED",o="FAILED";let u,a=t,c=o;if(null==t||null==n)throw{name:"setAtParamsException",msg:"obj: "+t+", valuePath: "+n+", value: "+e};try{u="string"==typeof n?n.split("."):n;for(let t=0,n=u.length;t<n;t++){let n=s(a,u[t]);t===u.length-1?(void 0!==a?.[u[t]]?c!==r&&(c="MODIFIED"):c!==r&&(c="ADDED"),a[n]=e):("object"!=typeof a[n]&&(Number.isNaN(Number(u[t+1]))?a[n]={}:a[n]=[],c=r),a=a[n])}if(c===o)throw{name:"setAtException",msg:"obj: "+t+", valuePath: "+n+", value: "+e}}catch(r){return console.log(r+" Warning: There was an exception in setAt(obj, valuePath, value)... obj: "+t+" valuePath: "+n+" value: "+e),c=o,c}return c;function s(t,n){return Array.isArray(t)&&"$last"===n?t.length-1:Array.isArray(t)&&"$push"===n?t.length:Array.isArray(t)&&parseInt(n)<0?t.length+parseInt(u[i]):n}}const ht=(t,n=!0)=>{let e,r=1,o=-1;return!1===n&&(r=-1,o=1),e="string"==typeof t?[t]:[...t],(t,n)=>{for(let u of e){if(lt(t,u)>lt(n,u))return r;if(lt(t,u)<lt(n,u))return o}return 0}};function dt(t,n){let e,r=[],o=0;for(let u=0,i=n.length;u<i;u++)if(e=t(n[u],u,n),void 0!==e)if(!0===Array.isArray(e))for(let t=0,n=e.length;t<n;t++)void 0!==e[t]&&(r[o++]=e[t]);else r[o++]=e;return r}const yt=(t=!0)=>(n,e)=>!1===t?n<e?1:n>e?-1:0:n<e?-1:n>e?1:0;function gt(t){return!!t&&("object"==typeof t||"function"==typeof t)&&"function"==typeof t.then}function vt(t){return new Promise((n=>setTimeout(n,t)))}function mt(t,n){return new Promise((e=>setTimeout((()=>e(n)),t)))}function wt(t,n,...e){return new Promise((r=>setTimeout((()=>r(n(...e))),t)))}async function bt(t,n,e,r,o){let u,i=0;for(let a=0;a<t;a++){a>0&&await vt(i);try{u=await e(...r)}catch(n){if(a===t-1)throw n;u=n}if(void 0===o&&u instanceof Error==!1)return u;try{if(!0===o?.(u))return u}catch(t){throw console.log("Called to shouldStopFun failed with params: ",{currentSleepTime:i,index:a}),console.log("Throwing exception..."),t}const c=u?.message??u?.error??u?.code??u?.status??u?.status??u?.name;console.log(`Iteration: ${a+1} sleepTime: ${i} Error: ${c}`);try{i=n(i,a)}catch(t){throw console.log("Calling updateSleepTimeFun failed with params: ",{currentSleepTime:i,index:a}),t}}return u}const _t=t=>(...n)=>!t(...n);function At(t,n,e=[0]){const r=o(t,e);return void 0===n.find((t=>o(t,e)===r))?(n.push(t),t):void 0;function o(t,n){return"object"!=typeof t?t:n.reduce(((n,e,r)=>n+`-${r}-`+t[e]),"")}}function Et(t,n,e=[0],r){if(void 0===At(t,n,e)){const u=o(t,e);return n.map((n=>u===o(n,e)?r(t,n):n))}return n;function o(t,n){return"object"!=typeof t?t:n.reduce(((n,e,r)=>n+`-${r}-`+t[e]),"")}}function jt(t,n,e){if(!1===Array.isArray(e))throw new E("PUSHAT_LAST_PARAMETER_MUST_BE_ARRAY");const r=e.length;return Nt(e.length-t).times((t=>e[r-t]=e[r-t-1])),e[t]=n,e}function xt(){const t=new Map;return{memoizeMap:function(n,...e){let r=JSON.stringify(e),o=t.get(r);return void 0===o&&!1===t.has(r)&&(o=n(...e),t.set(r,o)),o},memoizeWithHashFun:function(n,e,...r){let o=JSON.stringify(e(r)),u=t.get(o);return void 0===u&&!1===t.has(o)&&(u=n(...r),t.set(o,u)),u}}}function Ot(t,n){let e,r=[],o="function"==typeof n?n:t=>t<n,u=-1;do{u++,r[u]=t(u,r),e=o(u,r),e||r.pop()}while(e);return r}function St(t,...n){return void 0!==n[0][0].from&&(n=n[0]),n.reduce(((t,n)=>t.split(n.from).join(n.to)),t)}function Tt(t){return t.replace(/([^a-z0-9 .,]+)/gi,"").replace(/  */g," ").trim()}function Nt(t){let n=[];return{times:function(e){for(let r=0;r<t;r++)n[r]=e(r);return n},awaitTimes:async function(e){for(let r=0;r<t;r++)n[r]=await e(r);return n},value:function(n){return Array(t).fill(n)}}}function $t(t){let n=0;return{call:function(e){function r(...r){if(0===n)return n=t-1,e(...r);n--}return r.reset=()=>n=0,r}}}function*It(t,n){let e=0;for(;;)yield t+e%n,e++}function Ft(t){console.log(`Shutting down with error: ${t}`);try{process.exit(1)}catch(t){console.log(t)}}const Pt={logWithPrefix:A,firstCapital:C,varSubsDoubleBracket:U,queryObjToStr:D,CustomError:E,urlCompose:B,urlDecompose:q,indexOfNthMatch:z,colors:ut,colorMessage:it,colorMessageByStatus:at,colorByStatus:ct,findDeepKey:st,deepFreeze:ft,getAt:lt,setAt:pt,sorterByPaths:ht,filterFlatMap:dt,arraySorter:yt,isPromise:gt,sleep:vt,sleepWithValue:mt,sleepWithFunction:wt,notTo:_t,arrayToObject:T,arrayOfObjectsToObject:N,removeDuplicates:$,traverse:I,traverseVertically:F,project:P,copyPropsWithValue:M,copyPropsWithValueUsingRules:R,EnumMap:O,Enum:x,transition:S,pushUniqueKey:At,pushUniqueKeyOrChange:Et,pushAt:jt,memoize:xt,fillWith:Ot,isDate:V,isEmpty:k,isStringADate:J,formatDate:H,dateFormatter:G,YYYY_MM_DD_hh_mm_ss_ToUtcDate:Z,dateToObj:K,diffInDaysYYYY_MM_DD:Q,subtractDays:X,addDays:tt,previousDayOfWeek:nt,getSameDateOrPreviousFridayForWeekends:et,isDateMidnight:rt,setDateToMidnight:ot,replaceAll:St,cleanString:Tt,repeat:Nt,oneIn:$t,loopIndexGenerator:It,retryWithSleep:bt,processExit:Ft};function Rt(t,n,e,o){if(e){Object.setPrototypeOf(t,Object.getPrototypeOf(n));for(let n in t)t.hasOwnProperty(n)&&delete t[n]}if(o)for(let e in n)n.hasOwnProperty(e)&&(t[e]=n[e]);else for(let e in n)n.hasOwnProperty(e)&&(t[e]=r(n[e]));return t}function Mt(t,n,e="."){let r=e.replace(/[.*+\-?^${}()|[\]\\]/g,"\\$&");let o=t.split(e).join(`${r}`);return o=o.split("*").join(`[^${r}]*`),o=o.split(`[^${r}]*[^${r}]*`).join(".*"),o="^"+o+"$",new RegExp(o,n)}function kt(t){let n=function t(n){const e=[],r=[];return Pt.traverse(n,((t,n,o,u)=>{Pt.isPromise(t)&&(e.push(t),r.push({parent:o,son:u}))}),!1),e.length>0?Promise.all(e).then((e=>(e.map(((t,n)=>{r[n].parent[r[n].son]=t})),t(n)))):n}({root:t});return!1===Pt.isPromise(n)&&(n=Promise.resolve(n)),n.then((t=>t.root))}var Ct=function(){return!1},Dt=function(){return!0},Ut={"@@functional/placeholder":!0};function Lt(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function Wt(t){return function n(e){return 0===arguments.length||Lt(e)?n:t.apply(this,arguments)}}function Bt(t){return function n(e,r){switch(arguments.length){case 0:return n;case 1:return Lt(e)?n:Wt((function(n){return t(e,n)}));default:return Lt(e)&&Lt(r)?n:Lt(e)?Wt((function(n){return t(n,r)})):Lt(r)?Wt((function(n){return t(e,n)})):t(e,r)}}}var qt=Bt((function(t,n){return Number(t)+Number(n)}));function zt(t,n){var e;n=n||[];var r=(t=t||[]).length,o=n.length,u=[];for(e=0;e<r;)u[u.length]=t[e],e+=1;for(e=0;e<o;)u[u.length]=n[e],e+=1;return u}function Yt(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,e){return n.apply(this,arguments)};case 3:return function(t,e,r){return n.apply(this,arguments)};case 4:return function(t,e,r,o){return n.apply(this,arguments)};case 5:return function(t,e,r,o,u){return n.apply(this,arguments)};case 6:return function(t,e,r,o,u,i){return n.apply(this,arguments)};case 7:return function(t,e,r,o,u,i,a){return n.apply(this,arguments)};case 8:return function(t,e,r,o,u,i,a,c){return n.apply(this,arguments)};case 9:return function(t,e,r,o,u,i,a,c,s){return n.apply(this,arguments)};case 10:return function(t,e,r,o,u,i,a,c,s,f){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function Vt(t,n,e){return function(){for(var r=[],o=0,u=t,i=0;i<n.length||o<arguments.length;){var a;i<n.length&&(!Lt(n[i])||o>=arguments.length)?a=n[i]:(a=arguments[o],o+=1),r[i]=a,Lt(a)||(u-=1),i+=1}return u<=0?e.apply(this,r):Yt(u,Vt(t,r,e))}}var Jt=Bt((function(t,n){return 1===t?Wt(n):Yt(t,Vt(t,[],n))})),Gt=Jt,Ht=Wt((function(t){return Gt(t.length,(function(){var n=0,e=arguments[0],r=arguments[arguments.length-1],o=Array.prototype.slice.call(arguments,0);return o[0]=function(){var t=e.apply(this,zt(arguments,[n,r]));return n+=1,t},t.apply(this,o)}))}));function Zt(t){return function n(e,r,o){switch(arguments.length){case 0:return n;case 1:return Lt(e)?n:Bt((function(n,r){return t(e,n,r)}));case 2:return Lt(e)&&Lt(r)?n:Lt(e)?Bt((function(n,e){return t(n,r,e)})):Lt(r)?Bt((function(n,r){return t(e,n,r)})):Wt((function(n){return t(e,r,n)}));default:return Lt(e)&&Lt(r)&&Lt(o)?n:Lt(e)&&Lt(r)?Bt((function(n,e){return t(n,e,o)})):Lt(e)&&Lt(o)?Bt((function(n,e){return t(n,r,e)})):Lt(r)&&Lt(o)?Bt((function(n,r){return t(e,n,r)})):Lt(e)?Wt((function(n){return t(n,r,o)})):Lt(r)?Wt((function(n){return t(e,n,o)})):Lt(o)?Wt((function(n){return t(e,r,n)})):t(e,r,o)}}}var Kt=Zt((function(t,n,e){var r=e.length;if(t>=r||t<-r)return e;var o=(r+t)%r,u=zt(e);return u[o]=n(e[o]),u})),Qt=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function Xt(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function tn(t,n,e){return function(){if(0===arguments.length)return e();var r=arguments[arguments.length-1];if(!Qt(r)){for(var o=0;o<t.length;){if("function"==typeof r[t[o]])return r[t[o]].apply(r,Array.prototype.slice.call(arguments,0,-1));o+=1}if(Xt(r))return n.apply(null,Array.prototype.slice.call(arguments,0,-1))(r)}return e.apply(this,arguments)}}function nn(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var en={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},rn=function(){function t(t,n){this.xf=n,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)||(this.all=!1,t=nn(this.xf["@@transducer/step"](t,!1))),t},t}(),on=Bt(tn(["all"],Bt((function(t,n){return new rn(t,n)})),(function(t,n){for(var e=0;e<n.length;){if(!t(n[e]))return!1;e+=1}return!0}))),un=Bt((function(t,n){return n>t?n:t}));function an(t,n){for(var e=0,r=n.length,o=Array(r);e<r;)o[e]=t(n[e]),e+=1;return o}function cn(t){return"[object String]"===Object.prototype.toString.call(t)}var sn=Wt((function(t){return!!Qt(t)||!!t&&("object"==typeof t&&(!cn(t)&&(0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))})),fn=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},t}();function ln(t){return new fn(t)}var pn=Bt((function(t,n){return Yt(t.length,(function(){return t.apply(n,arguments)}))}));function hn(t,n,e){for(var r=e.next();!r.done;){if((n=t["@@transducer/step"](n,r.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r=e.next()}return t["@@transducer/result"](n)}function dn(t,n,e,r){return t["@@transducer/result"](e[r](pn(t["@@transducer/step"],t),n))}var yn="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function gn(t,n,e){if("function"==typeof t&&(t=ln(t)),sn(e))return function(t,n,e){for(var r=0,o=e.length;r<o;){if((n=t["@@transducer/step"](n,e[r]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r+=1}return t["@@transducer/result"](n)}(t,n,e);if("function"==typeof e["fantasy-land/reduce"])return dn(t,n,e,"fantasy-land/reduce");if(null!=e[yn])return hn(t,n,e[yn]());if("function"==typeof e.next)return hn(t,n,e);if("function"==typeof e.reduce)return dn(t,n,e,"reduce");throw new TypeError("reduce: list must be array or iterable")}var vn=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=en.result,t.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},t}(),mn=Bt((function(t,n){return new vn(t,n)}));function wn(t,n){return Object.prototype.hasOwnProperty.call(n,t)}var bn=Object.prototype.toString,_n=function(){return"[object Arguments]"===bn.call(arguments)?function(t){return"[object Arguments]"===bn.call(t)}:function(t){return wn("callee",t)}}(),An=!{toString:null}.propertyIsEnumerable("toString"),En=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],jn=function(){return arguments.propertyIsEnumerable("length")}(),xn=function(t,n){for(var e=0;e<t.length;){if(t[e]===n)return!0;e+=1}return!1},On="function"!=typeof Object.keys||jn?Wt((function(t){if(Object(t)!==t)return[];var n,e,r=[],o=jn&&_n(t);for(n in t)!wn(n,t)||o&&"length"===n||(r[r.length]=n);if(An)for(e=En.length-1;e>=0;)wn(n=En[e],t)&&!xn(r,n)&&(r[r.length]=n),e-=1;return r})):Wt((function(t){return Object(t)!==t?[]:Object.keys(t)})),Sn=On,Tn=Bt(tn(["fantasy-land/map","map"],mn,(function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return Gt(n.length,(function(){return t.call(this,n.apply(this,arguments))}));case"[object Object]":return gn((function(e,r){return e[r]=t(n[r]),e}),{},Sn(n));default:return an(t,n)}}))),Nn=Tn,$n=Number.isInteger||function(t){return t<<0===t},In=Bt((function(t,n){var e=t<0?n.length+t:t;return cn(n)?n.charAt(e):n[e]})),Fn=Bt((function(t,n){if(null!=n)return $n(t)?In(t,n):n[t]})),Pn=Bt((function(t,n){return Nn(Fn(t),n)})),Rn=Zt(gn),Mn=Wt((function(t){return Gt(Rn(un,0,Pn("length",t)),(function(){for(var n=0,e=t.length;n<e;){if(!t[n].apply(this,arguments))return!1;n+=1}return!0}))})),kn=Wt((function(t){return function(){return t}})),Cn=Bt((function(t,n){return t&&n})),Dn=function(){function t(t,n){this.xf=n,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=nn(this.xf["@@transducer/step"](t,!0))),t},t}(),Un=Bt(tn(["any"],Bt((function(t,n){return new Dn(t,n)})),(function(t,n){for(var e=0;e<n.length;){if(t(n[e]))return!0;e+=1}return!1}))),Ln=Wt((function(t){return Gt(Rn(un,0,Pn("length",t)),(function(){for(var n=0,e=t.length;n<e;){if(t[n].apply(this,arguments))return!0;n+=1}return!1}))})),Wn=Bt((function(t,n){return"function"==typeof n["fantasy-land/ap"]?n["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(n):"function"==typeof t?function(e){return t(e)(n(e))}:gn((function(t,e){return zt(t,Nn(e,n))}),[],t)}));function Bn(t,n){for(var e=0,r=n.length-(t-1),o=new Array(r>=0?r:0);e<r;)o[e]=Array.prototype.slice.call(n,e,e+t),e+=1;return o}var qn=function(){function t(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.store(n),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return zt(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}(),zn=Bt(tn([],Bt((function(t,n){return new qn(t,n)})),Bn)),Yn=Bt((function(t,n){return zt(n,[t])})),Vn=Bt((function(t,n){return t.apply(this,n)})),Jn=Wt((function(t){for(var n=Sn(t),e=n.length,r=[],o=0;o<e;)r[o]=t[n[o]],o+=1;return r})),Gn=Jn;function Hn(t,n){return Qt(n)?n.map(t):Sn(n).reduce((function(e,r){return e[r]=t(n[r]),e}),{})}var Zn=Wt((function t(n){return n=Hn((function(n){return"function"==typeof n?n:t(n)}),n),Gt(Rn(un,0,Pn("length",Gn(n))),(function(){var t=arguments;return Hn((function(n){return Vn(n,t)}),n)}))})),Kn=Bt((function(t,n){return n(t)})),Qn=Zt((function(t,n,e){var r=t(n),o=t(e);return r<o?-1:r>o?1:0}));function Xn(t,n,e){if($n(t)&&Qt(e)){var r=[].concat(e);return r[t]=n,r}var o={};for(var u in e)o[u]=e[u];return o[t]=n,o}var te=Wt((function(t){return null==t})),ne=Zt((function t(n,e,r){if(0===n.length)return e;var o=n[0];if(n.length>1){var u=!te(r)&&wn(o,r)?r[o]:$n(n[1])?[]:{};e=t(Array.prototype.slice.call(n,1),e,u)}return Xn(o,e,r)})),ee=ne,re=Zt((function(t,n,e){return ee([t],n,e)})),oe=re,ue=Bt((function(t,n){switch(t){case 0:return function(){return n.call(this)};case 1:return function(t){return n.call(this,t)};case 2:return function(t,e){return n.call(this,t,e)};case 3:return function(t,e,r){return n.call(this,t,e,r)};case 4:return function(t,e,r,o){return n.call(this,t,e,r,o)};case 5:return function(t,e,r,o,u){return n.call(this,t,e,r,o,u)};case 6:return function(t,e,r,o,u,i){return n.call(this,t,e,r,o,u,i)};case 7:return function(t,e,r,o,u,i,a){return n.call(this,t,e,r,o,u,i,a)};case 8:return function(t,e,r,o,u,i,a,c){return n.call(this,t,e,r,o,u,i,a,c)};case 9:return function(t,e,r,o,u,i,a,c,s){return n.call(this,t,e,r,o,u,i,a,c,s)};case 10:return function(t,e,r,o,u,i,a,c,s,f){return n.call(this,t,e,r,o,u,i,a,c,s,f)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}})),ie=Wt((function(t){return ue(2,t)}));function ae(t){var n=Object.prototype.toString.call(t);return"[object Function]"===n||"[object AsyncFunction]"===n||"[object GeneratorFunction]"===n||"[object AsyncGeneratorFunction]"===n}var ce=Bt((function(t,n){var e=Gt(t,n);return Gt(t,(function(){return gn(Wn,Nn(e,arguments[0]),Array.prototype.slice.call(arguments,1))}))})),se=Wt((function(t){return ce(t.length,t)})),fe=Bt((function(t,n){return ae(t)?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:se(Cn)(t,n)})),le=Wt((function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))}));function pe(t){return function n(e){for(var r,o,u,i=[],a=0,c=e.length;a<c;){if(sn(e[a]))for(u=0,o=(r=t?n(e[a]):e[a]).length;u<o;)i[i.length]=r[u],u+=1;else i[i.length]=e[a];a+=1}return i}}var he=function(t){var n=function(t){return{"@@transducer/init":en.init,"@@transducer/result":function(n){return t["@@transducer/result"](n)},"@@transducer/step":function(n,e){var r=t["@@transducer/step"](n,e);return r["@@transducer/reduced"]?{"@@transducer/value":r,"@@transducer/reduced":!0}:r}}}(t);return{"@@transducer/init":en.init,"@@transducer/result":function(t){return n["@@transducer/result"](t)},"@@transducer/step":function(t,e){return sn(e)?gn(n,t,e):gn(n,t,[e])}}},de=Bt(tn(["fantasy-land/chain","chain"],Bt((function(t,n){return Nn(t,he(n))})),(function(t,n){return"function"==typeof n?function(e){return t(n(e))(e)}:pe(!1)(Nn(t,n))}))),ye=de,ge=Zt((function(t,n,e){if(t>n)throw new Error("min must not be greater than max in clamp(min, max, value)");return e<t?t:e>n?n:e})),ve=ge;function me(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var we=Wt((function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}));function be(t,n,e,r){var o=function(o){for(var u=n.length,i=0;i<u;){if(t===n[i])return e[i];i+=1}for(var a in n[i]=t,e[i]=o,t)t.hasOwnProperty(a)&&(o[a]=r?be(t[a],n,e,!0):t[a]);return o};switch(we(t)){case"Object":return o(Object.create(Object.getPrototypeOf(t)));case"Array":return o([]);case"Date":return new Date(t.valueOf());case"RegExp":return me(t);case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"BigInt64Array":case"BigUint64Array":return t.slice();default:return t}}var _e=Wt((function(t){return null!=t&&"function"==typeof t.clone?t.clone():be(t,[],[],!0)})),Ae=_e,Ee=Bt((function(t,n){var e=gn((function(n,e){var r=t(e);return void 0===n[r]&&(n[r]=[]),n[r].push(e),n}),{},n),r=[];for(var o in e)r.push(e[o]);return r})),je=Ee,xe=Wt((function(t){return function(n,e){return t(n,e)?-1:t(e,n)?1:0}})),Oe=Wt((function(t){return!t})),Se=se(Oe);function Te(t,n){return function(){return n.call(this,t.apply(this,arguments))}}function Ne(t,n){return function(){var e=arguments.length;if(0===e)return n();var r=arguments[e-1];return Qt(r)||"function"!=typeof r[t]?n.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,e-1))}}var $e=Zt(Ne("slice",(function(t,n,e){return Array.prototype.slice.call(e,t,n)}))),Ie=Wt(Ne("tail",$e(1,1/0)));function Fe(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return Yt(arguments[0].length,Rn(Te,arguments[0],Ie(arguments)))}var Pe=Wt((function(t){return cn(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()}));function Re(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Fe.apply(this,Pe(arguments))}var Me=In(0);function ke(t){return t}var Ce=Wt(ke),De=Bt((function(t,n){if(n.length<=0)return Ce;var e=Me(n),r=Ie(n);return Yt(e.length,(function(){return gn((function(n,e){return t.call(this,e,n)}),e.apply(this,arguments),r)}))})),Ue=Bt((function(t,n){return De.apply(this,[t,Pe(n)])}));function Le(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}function We(t,n,e){for(var r=0,o=e.length;r<o;){if(t(n,e[r]))return!0;r+=1}return!1}var Be="function"==typeof Object.is?Object.is:function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n};function qe(t,n,e,r){var o=Le(t);function u(t,n){return ze(t,n,e.slice(),r.slice())}return!We((function(t,n){return!We(u,n,t)}),Le(n),o)}function ze(t,n,e,r){if(Be(t,n))return!0;var o=we(t);if(o!==we(n))return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===function(t){var n=String(t).match(/^function (\w*)/);return null==n?"":n[1]}(t.constructor))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!Be(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!Be(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var u=e.length-1;u>=0;){if(e[u]===t)return r[u]===n;u-=1}switch(o){case"Map":return t.size===n.size&&qe(t.entries(),n.entries(),e.concat([t]),r.concat([n]));case"Set":return t.size===n.size&&qe(t.values(),n.values(),e.concat([t]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var i=Sn(t);if(i.length!==Sn(n).length)return!1;var a=e.concat([t]),c=r.concat([n]);for(u=i.length-1;u>=0;){var s=i[u];if(!wn(s,n)||!ze(n[s],t[s],a,c))return!1;u-=1}return!0}var Ye=Bt((function(t,n){return ze(t,n,[],[])}));function Ve(t,n,e){var r,o;if("function"==typeof t.indexOf)switch(typeof n){case"number":if(0===n){for(r=1/n;e<t.length;){if(0===(o=t[e])&&1/o===r)return e;e+=1}return-1}if(n!=n){for(;e<t.length;){if("number"==typeof(o=t[e])&&o!=o)return e;e+=1}return-1}return t.indexOf(n,e);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,e);case"object":if(null===n)return t.indexOf(n,e)}for(;e<t.length;){if(Ye(t[e],n))return e;e+=1}return-1}function Je(t,n){return Ve(n,t,0)>=0}function Ge(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var He=function(t){return(t<10?"0":"")+t},Ze="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+He(t.getUTCMonth()+1)+"-"+He(t.getUTCDate())+"T"+He(t.getUTCHours())+":"+He(t.getUTCMinutes())+":"+He(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function Ke(t){return function(){return!t.apply(this,arguments)}}function Qe(t,n){for(var e=0,r=n.length,o=[];e<r;)t(n[e])&&(o[o.length]=n[e]),e+=1;return o}function Xe(t){return"[object Object]"===Object.prototype.toString.call(t)}var tr=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=en.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t},t}(),nr=Bt(tn(["fantasy-land/filter","filter"],Bt((function(t,n){return new tr(t,n)})),(function(t,n){return Xe(n)?gn((function(e,r){return t(n[r])&&(e[r]=n[r]),e}),{},Sn(n)):Qe(t,n)}))),er=Bt((function(t,n){return nr(Ke(t),n)}));function rr(t,n){var e=function(e){var r=n.concat([t]);return Je(e,r)?"<Circular>":rr(e,r)},r=function(t,n){return an((function(n){return Ge(n)+": "+e(t[n])}),n.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+an(e,t).join(", ")+"))";case"[object Array]":return"["+an(e,t).concat(r(t,er((function(t){return/^\d+$/.test(t)}),Sn(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+e(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?e(NaN):Ge(Ze(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+e(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+e(t.valueOf())+")":Ge(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var o=t.toString();if("[object Object]"!==o)return o}return"{"+r(t,Sn(t)).join(", ")+"}"}}var or=Wt((function(t){return rr(t,[])})),ur=Bt((function(t,n){if(Qt(t)){if(Qt(n))return t.concat(n);throw new TypeError(or(n)+" is not an array")}if(cn(t)){if(cn(n))return t+n;throw new TypeError(or(n)+" is not a string")}if(null!=t&&ae(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(null!=t&&ae(t.concat))return t.concat(n);throw new TypeError(or(t)+' does not have a method named "concat" or "fantasy-land/concat"')})),ir=Wt((function(t){var n=Rn(un,0,Nn((function(t){return t[0].length}),t));return Yt(n,(function(){for(var n=0;n<t.length;){if(t[n][0].apply(this,arguments))return t[n][1].apply(this,arguments);n+=1}}))})),ar=ir,cr=Wt((function(t){return Gt(t.length,t)})),sr=Bt((function(t,n){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new n}:cr(ue(t,(function(t,e,r,o,u,i,a,c,s,f){switch(arguments.length){case 1:return new n(t);case 2:return new n(t,e);case 3:return new n(t,e,r);case 4:return new n(t,e,r,o);case 5:return new n(t,e,r,o,u);case 6:return new n(t,e,r,o,u,i);case 7:return new n(t,e,r,o,u,i,a);case 8:return new n(t,e,r,o,u,i,a,c);case 9:return new n(t,e,r,o,u,i,a,c,s);case 10:return new n(t,e,r,o,u,i,a,c,s,f)}})))})),fr=Wt((function(t){return sr(t.length,t)})),lr=Bt((function(t,n){return Gt(Rn(un,0,Pn("length",n)),(function(){var e=arguments,r=this;return t.apply(r,an((function(t){return t.apply(r,e)}),n))}))})),pr=lr,hr=cr((function(t,n){return gn((function(n,e){return t(e)?n+1:n}),0,n)})),dr=function(){function t(t,n,e,r){this.valueFn=t,this.valueAcc=n,this.keyFn=e,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=function(t){var n;for(n in this.inputs)if(wn(n,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[n]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){var e=this.keyFn(n);return this.inputs[e]=this.inputs[e]||[e,this.valueAcc],this.inputs[e][1]=this.valueFn(this.inputs[e][1],n),t},t}(),yr=Vt(4,[],tn([],Vt(4,[],(function(t,n,e,r){return new dr(t,n,e,r)})),(function(t,n,e,r){return gn((function(r,o){var u=e(o),i=t(wn(u,r)?r[u]:be(n,[],[],!1),o);return i&&i["@@transducer/reduced"]?nn(r):(r[u]=i,r)}),{},r)}))),gr=yr,vr=gr((function(t,n){return t+1}),0),mr=qt(-1),wr=Bt((function(t,n){return null==n||n!=n?t:n})),br=Zt((function(t,n,e){var r=t(n),o=t(e);return r>o?-1:r<o?1:0})),_r=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!Ar(t,!0,this)},t.prototype.has=function(t){return Ar(t,!1,this)},t}();function Ar(t,n,e){var r,o=typeof t;switch(o){case"string":case"number":return 0===t&&1/t==-1/0?!!e._items["-0"]||(n&&(e._items["-0"]=!0),!1):null!==e._nativeSet?n?(r=e._nativeSet.size,e._nativeSet.add(t),e._nativeSet.size===r):e._nativeSet.has(t):o in e._items?t in e._items[o]||(n&&(e._items[o][t]=!0),!1):(n&&(e._items[o]={},e._items[o][t]=!0),!1);case"boolean":if(o in e._items){var u=t?1:0;return!!e._items[o][u]||(n&&(e._items[o][u]=!0),!1)}return n&&(e._items[o]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==e._nativeSet?n?(r=e._nativeSet.size,e._nativeSet.add(t),e._nativeSet.size===r):e._nativeSet.has(t):o in e._items?!!Je(t,e._items[o])||(n&&e._items[o].push(t),!1):(n&&(e._items[o]=[t]),!1);case"undefined":return!!e._items[o]||(n&&(e._items[o]=!0),!1);case"object":if(null===t)return!!e._items.null||(n&&(e._items.null=!0),!1);default:return(o=Object.prototype.toString.call(t))in e._items?!!Je(t,e._items[o])||(n&&e._items[o].push(t),!1):(n&&(e._items[o]=[t]),!1)}}var Er=Bt((function(t,n){for(var e=[],r=0,o=t.length,u=n.length,i=new _r,a=0;a<u;a+=1)i.add(n[a]);for(;r<o;)i.add(t[r])&&(e[e.length]=t[r]),r+=1;return e})),jr=Zt((function(t,n,e){for(var r=[],o=0,u=n.length;o<u;)We(t,n[o],e)||We(t,n[o],r)||r.push(n[o]),o+=1;return r})),xr=Zt((function(t,n,e){var r=Array.prototype.slice.call(e,0);return r.splice(t,n),r})),Or=xr;var Sr=Bt((function t(n,e){if(null==e)return e;switch(n.length){case 0:return e;case 1:return function(t,n){if(null==n)return n;if($n(t)&&Qt(n))return Or(t,1,n);var e={};for(var r in n)e[r]=n[r];return delete e[t],e}(n[0],e);default:var r=n[0],o=Array.prototype.slice.call(n,1);return null==e[r]?function(t,n){if($n(t)&&Qt(n))return[].concat(n);var e={};for(var r in n)e[r]=n[r];return e}(r,e):oe(r,t(o,e[r]),e)}})),Tr=Sr,Nr=Bt((function(t,n){return Tr([t],n)})),$r=Nr,Ir=Bt((function(t,n){return t/n})),Fr=function(){function t(t,n){this.xf=n,this.n=t}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=en.result,t.prototype["@@transducer/step"]=function(t,n){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,n)},t}(),Pr=Bt(tn(["drop"],Bt((function(t,n){return new Fr(t,n)})),(function(t,n){return $e(Math.max(0,t),1/0,n)}))),Rr=function(){function t(t,n){this.xf=n,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=en.result,t.prototype["@@transducer/step"]=function(t,n){this.i+=1;var e=0===this.n?t:this.xf["@@transducer/step"](t,n);return this.n>=0&&this.i>=this.n?nn(e):e},t}(),Mr=Bt(tn(["take"],Bt((function(t,n){return new Rr(t,n)})),(function(t,n){return $e(0,t<0?1/0:t,n)})));function kr(t,n){return Mr(t<n.length?n.length-t:0,n)}var Cr=function(){function t(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(n),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),Dr=Bt(tn([],Bt((function(t,n){return new Cr(t,n)})),kr));function Ur(t,n){for(var e=n.length-1;e>=0&&t(n[e]);)e-=1;return $e(0,e+1,n)}var Lr=function(){function t(t,n){this.f=t,this.retained=[],this.xf=n}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.retain(t,n):this.flush(t,n)},t.prototype.flush=function(t,n){return t=gn(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,n)},t.prototype.retain=function(t,n){return this.retained.push(n),t},t}(),Wr=Bt(tn([],Bt((function(t,n){return new Lr(t,n)})),Ur)),Br=function(){function t(t,n){this.xf=n,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=en.result,t.prototype["@@transducer/step"]=function(t,n){var e=!1;return this.seenFirstValue?this.pred(this.lastValue,n)&&(e=!0):this.seenFirstValue=!0,this.lastValue=n,e?t:this.xf["@@transducer/step"](t,n)},t}(),qr=Bt((function(t,n){return new Br(t,n)})),zr=In(-1),Yr=Bt(tn([],qr,(function(t,n){var e=[],r=1,o=n.length;if(0!==o)for(e[0]=n[0];r<o;)t(zr(e),n[r])||(e[e.length]=n[r]),r+=1;return e}))),Vr=Wt(tn([],qr(Ye),Yr(Ye))),Jr=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=en.result,t.prototype["@@transducer/step"]=function(t,n){if(this.f){if(this.f(n))return t;this.f=null}return this.xf["@@transducer/step"](t,n)},t}(),Gr=Bt(tn(["dropWhile"],Bt((function(t,n){return new Jr(t,n)})),(function(t,n){for(var e=0,r=n.length;e<r&&t(n[e]);)e+=1;return $e(e,1/0,n)}))),Hr=Bt((function(t,n){return t||n})),Zr=Bt((function(t,n){return ae(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:se(Hr)(t,n)}));var Kr=Wt((function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():Qt(t)?[]:cn(t)?"":Xe(t)?{}:_n(t)?function(){return arguments}():function(t){var n=Object.prototype.toString.call(t);return"[object Uint8ClampedArray]"===n||"[object Int8Array]"===n||"[object Uint8Array]"===n||"[object Int16Array]"===n||"[object Uint16Array]"===n||"[object Int32Array]"===n||"[object Uint32Array]"===n||"[object Float32Array]"===n||"[object Float64Array]"===n||"[object BigInt64Array]"===n||"[object BigUint64Array]"===n}(t)?t.constructor.from(""):void 0})),Qr=Kr,Xr=Bt((function(t,n){return Pr(t>=0?n.length-t:0,n)})),to=Bt((function(t,n){return Ye(Xr(t.length,n),t)})),no=Zt((function(t,n,e){return Ye(t(n),t(e))})),eo=Zt((function(t,n,e){return Ye(n[t],e[t])})),ro=eo,oo=Bt((function t(n,e){if(!Xe(e)&&!Qt(e))return e;var r,o,u,i=e instanceof Array?[]:{};for(o in e)u=typeof(r=n[o]),i[o]="function"===u?r(e[o]):r&&"object"===u?t(r,e[o]):e[o];return i})),uo=oo,io=function(){function t(t,n){this.xf=n,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.found=!0,t=nn(this.xf["@@transducer/step"](t,n))),t},t}(),ao=Bt(tn(["find"],Bt((function(t,n){return new io(t,n)})),(function(t,n){for(var e=0,r=n.length;e<r;){if(t(n[e]))return n[e];e+=1}}))),co=function(){function t(t,n){this.xf=n,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.found=!0,t=nn(this.xf["@@transducer/step"](t,this.idx))),t},t}(),so=Bt(tn([],Bt((function(t,n){return new co(t,n)})),(function(t,n){for(var e=0,r=n.length;e<r;){if(t(n[e]))return e;e+=1}return-1}))),fo=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.last=n),t},t}(),lo=Bt(tn([],Bt((function(t,n){return new fo(t,n)})),(function(t,n){for(var e=n.length-1;e>=0;){if(t(n[e]))return n[e];e-=1}}))),po=function(){function t(t,n){this.xf=n,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.lastIdx=this.idx),t},t}(),ho=Bt(tn([],Bt((function(t,n){return new po(t,n)})),(function(t,n){for(var e=n.length-1;e>=0;){if(t(n[e]))return e;e-=1}return-1}))),yo=Wt(pe(!0)),go=Wt((function(t){return Gt(t.length,(function(n,e){var r=Array.prototype.slice.call(arguments,0);return r[0]=e,r[1]=n,t.apply(this,r)}))})),vo=Bt(Ne("forEach",(function(t,n){for(var e=n.length,r=0;r<e;)t(n[r]),r+=1;return n}))),mo=Bt((function(t,n){for(var e=Sn(n),r=0;r<e.length;){var o=e[r];t(n[o],o,n),r+=1}return n})),wo=Wt((function(t){for(var n={},e=0;e<t.length;)n[t[e][0]]=t[e][1],e+=1;return n})),bo=Bt(Ne("groupBy",gr((function(t,n){return t.push(n),t}),[]))),_o=Bt((function(t,n){for(var e=[],r=0,o=n.length;r<o;){for(var u=r+1;u<o&&t(n[u-1],n[u]);)u+=1;e.push(n.slice(r,u)),r=u}return e})),Ao=Bt((function(t,n){return t>n})),Eo=Bt((function(t,n){return t>=n})),jo=Bt((function(t,n){if(0===t.length||te(n))return!1;for(var e=n,r=0;r<t.length;){if(te(e)||!wn(t[r],e))return!1;e=e[t[r]],r+=1}return!0})),xo=Bt((function(t,n){return jo([t],n)})),Oo=xo,So=Bt((function(t,n){return!te(n)&&t in n})),To=So,No=Bt(Be),$o=Zt((function(t,n,e){return Gt(Math.max(t.length,n.length,e.length),(function(){return t.apply(this,arguments)?n.apply(this,arguments):e.apply(this,arguments)}))})),Io=qt(1),Fo=Bt(Je),Po=gr((function(t,n){return n}),null),Ro=Bt((function(t,n){return"function"!=typeof n.indexOf||Qt(n)?Ve(n,t,0):n.indexOf(t)})),Mo=$e(0,-1),ko=Zt((function(t,n,e){return Qe((function(n){return We(t,n,e)}),n)})),Co=Zt((function(t,n,e){t=t<e.length&&t>=0?t:e.length;var r=Array.prototype.slice.call(e,0);return r.splice(t,0,n),r})),Do=Zt((function(t,n,e){return t=t<e.length&&t>=0?t:e.length,[].concat(Array.prototype.slice.call(e,0,t),n,Array.prototype.slice.call(e,t))})),Uo=function(){function t(t,n){this.xf=n,this.f=t,this.set=new _r}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=en.result,t.prototype["@@transducer/step"]=function(t,n){return this.set.add(this.f(n))?this.xf["@@transducer/step"](t,n):t},t}(),Lo=Bt(tn([],Bt((function(t,n){return new Uo(t,n)})),(function(t,n){for(var e,r,o=new _r,u=[],i=0;i<n.length;)e=t(r=n[i]),o.add(e)&&u.push(r),i+=1;return u}))),Wo=Lo,Bo=Wo(Ce),qo=Bt((function(t,n){var e,r;return t.length>n.length?(e=t,r=n):(e=n,r=t),Bo(Qe(go(Je)(e),r))})),zo=Bt(Ne("intersperse",(function(t,n){for(var e=[],r=0,o=n.length;r<o;)r===o-1?e.push(n[r]):e.push(n[r],t),r+=1;return e}))),Yo=zo;var Vo="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),e=1,r=arguments.length;e<r;){var o=arguments[e];if(null!=o)for(var u in o)wn(u,o)&&(n[u]=o[u]);e+=1}return n},Jo=Bt((function(t,n){var e={};return e[t]=n,e})),Go={"@@transducer/init":Array,"@@transducer/step":function(t,n){return t.push(n),t},"@@transducer/result":ke},Ho={"@@transducer/init":String,"@@transducer/step":function(t,n){return t+n},"@@transducer/result":ke},Zo={"@@transducer/init":Object,"@@transducer/step":function(t,n){return Vo(t,sn(n)?Jo(n[0],n[1]):n)},"@@transducer/result":ke};var Ko=Zt((function(t,n,e){return Xt(t)?gn(n(t),t["@@transducer/init"](),e):gn(n(function(t){if(Xt(t))return t;if(sn(t))return Go;if("string"==typeof t)return Ho;if("object"==typeof t)return Zo;throw new Error("Cannot create transformer for "+t)}(t)),be(t,[],[],!1),e)})),Qo=Wt((function(t){for(var n=Sn(t),e=n.length,r=0,o={};r<e;){var u=n[r],i=t[u],a=wn(i,o)?o[i]:o[i]=[];a[a.length]=u,r+=1}return o})),Xo=Qo,tu=Wt((function(t){for(var n=Sn(t),e=n.length,r=0,o={};r<e;){var u=n[r];o[t[u]]=u,r+=1}return o})),nu=tu,eu=Bt((function(t,n){return Gt(t+1,(function(){var e=arguments[t];if(null!=e&&ae(e[n]))return e[n].apply(e,Array.prototype.slice.call(arguments,0,t));throw new TypeError(or(e)+' does not have a method named "'+n+'"')}))})),ru=Bt((function(t,n){return n instanceof t||null!=n&&(n.constructor===t||"Object"===t.name&&"object"==typeof n)})),ou=Wt((function(t){return null!=t&&Ye(t,Qr(t))})),uu=eu(1,"join"),iu=Wt((function(t){return pr((function(){return Array.prototype.slice.call(arguments,0)}),t)})),au=Wt((function(t){var n,e=[];for(n in t)e[e.length]=n;return e})),cu=au,su=Bt((function(t,n){if("function"!=typeof n.lastIndexOf||Qt(n)){for(var e=n.length-1;e>=0;){if(Ye(n[e],t))return e;e-=1}return-1}return n.lastIndexOf(t)}));function fu(t){return"[object Number]"===Object.prototype.toString.call(t)}var lu=Wt((function(t){return null!=t&&fu(t.length)?t.length:NaN})),pu=Bt((function(t,n){return function(e){return function(r){return Nn((function(t){return n(t,r)}),e(t(r)))}}})),hu=Zt((function(t,n,e){return Kt(t,kn(n),e)})),du=Wt((function(t){return pu(In(t),hu(t))})),yu=Bt((function(t,n){return t.map((function(t){for(var e,r=n,o=0;o<t.length;){if(null==r)return;e=t[o],r=$n(e)?In(e,r):r[e],o+=1}return r}))})),gu=Bt((function(t,n){return yu([t],n)[0]})),vu=Wt((function(t){return pu(gu(t),ee(t))})),mu=Wt((function(t){return pu(Fn(t),oe(t))})),wu=Bt((function(t,n){return t<n})),bu=Bt((function(t,n){return t<=n})),_u=Zt((function(t,n,e){for(var r=0,o=e.length,u=[],i=[n];r<o;)i=t(i[0],e[r]),u[r]=i[1],r+=1;return[i[0],u]})),Au=Zt((function(t,n,e){for(var r=e.length-1,o=[],u=[n];r>=0;)u=t(u[0],e[r]),o[r]=u[1],r-=1;return[u[0],o]})),Eu=Bt((function(t,n){return gn((function(e,r){return e[r]=t(n[r],r,n),e}),{},Sn(n))})),ju=Bt((function(t,n){return n.match(t)||[]})),xu=Bt((function(t,n){return $n(t)?!$n(n)||n<1?NaN:(t%n+n)%n:NaN})),Ou=Zt((function(t,n,e){return t(e)>t(n)?e:n})),Su=Rn(qt,0),Tu=Wt((function(t){return Su(t)/t.length})),Nu=Wt((function(t){var n=t.length;if(0===n)return NaN;var e=2-n%2,r=(n-e)/2;return Tu(Array.prototype.slice.call(t,0).sort((function(t,n){return t<n?-1:t>n?1:0})).slice(r,r+e))})),$u=Bt((function(t,n){var e={};return Yt(n.length,(function(){var r=t.apply(this,arguments);return wn(r,e)||(e[r]=n.apply(this,arguments)),e[r]}))})),Iu=$u,Fu=Wt((function(t){return Vo.apply(null,[{}].concat(t))})),Pu=Zt((function(t,n,e){var r,o={};for(r in n)wn(r,n)&&(o[r]=wn(r,e)?t(r,n[r],e[r]):n[r]);for(r in e)wn(r,e)&&!wn(r,o)&&(o[r]=e[r]);return o})),Ru=Zt((function t(n,e,r){return Pu((function(e,r,o){return Xe(r)&&Xe(o)?t(n,r,o):n(e,r,o)}),e,r)})),Mu=Bt((function(t,n){return Ru((function(t,n,e){return n}),t,n)})),ku=Bt((function(t,n){return Ru((function(t,n,e){return e}),t,n)})),Cu=Zt((function(t,n,e){return Ru((function(n,e,r){return t(e,r)}),n,e)})),Du=Bt((function(t,n){return Vo({},n,t)})),Uu=Bt((function(t,n){return Vo({},t,n)})),Lu=Zt((function(t,n,e){return Pu((function(n,e,r){return t(e,r)}),n,e)})),Wu=Bt((function(t,n){return n<t?n:t})),Bu=Zt((function(t,n,e){return t(e)<t(n)?e:n}));var qu=Zt((function t(n,e,r){if(!Xe(r)&&!Qt(r)||0===n.length)return r;var o=n[0];if(!wn(o,r))return r;if(1===n.length)return function(t,n,e){if($n(t)&&Qt(e)){var r=[].concat(e);return r[t]=n(r[t]),r}var o={};for(var u in e)o[u]=e[u];return o[t]=n(o[t]),o}(o,e,r);var u=t(Array.prototype.slice.call(n,1),e,r[o]);return u===r[o]?r:Xn(o,u,r)})),zu=qu,Yu=Zt((function(t,n,e){return zu([t],n,e)})),Vu=Yu,Ju=Bt((function(t,n){return t%n})),Gu=Zt((function(t,n,e){var r=e.length,o=e.slice(),u=t<0?r+t:t,i=n<0?r+n:n,a=o.splice(u,1);return u<0||u>=e.length||i<0||i>=e.length?e:[].concat(o.slice(0,i)).concat(a).concat(o.slice(i,e.length))})),Hu=Gu,Zu=Bt((function(t,n){return t*n})),Ku=Bt(((t,n)=>e=>t.call(this,ku(n,e)))),Qu=Wt((function(t){return-t})),Xu=Bt((function(t,n){return on(Ke(t),n)})),ti=Wt((function(t){return Gt(t<0?1:t+1,(function(){return In(t,arguments)}))})),ni=Zt((function(t,n,e){return t(n(e))}));function ei(t){return[t]}var ri=Wt(ei),oi=Bt((function(t,n){for(var e={},r={},o=0,u=t.length;o<u;)r[t[o]]=1,o+=1;for(var i in n)r.hasOwnProperty(i)||(e[i]=n[i]);return e})),ui=oi,ii=Vt(4,[],(function(t,n,e,r){return t(n(e),n(r))})),ai=Wt((function(t){var n,e=!1;return Yt(t.length,(function(){return e?n:(e=!0,n=t.apply(this,arguments))}))}));function ci(t,n){if(null==n||!ae(n.then))throw new TypeError("`"+t+"` expected a Promise, received "+rr(n,[]))}var si=Bt((function(t,n){return ci("otherwise",n),n.then(null,t)})),fi=function(t){return{value:t,map:function(n){return fi(n(t))}}},li=Zt((function(t,n,e){return t((function(t){return fi(n(t))}))(e).value})),pi=li,hi=Bt((function(t,n){return[t,n]}));function di(t){return Bt((function(n,e){return Yt(Math.max(0,n.length-e.length),(function(){return n.apply(this,t(e,arguments))}))}))}var yi=di(zt),gi=di(go(zt)),vi=iu([nr,er]),mi=Zt((function(t,n,e){return Ye(gu(t,e),n)})),wi=Zt((function(t,n,e){return wr(t,gu(n,e))})),bi=Zt((function(t,n,e){return t(gu(n,e))})),_i=Bt((function(t,n){for(var e={},r=0;r<t.length;)t[r]in n&&(e[t[r]]=n[t[r]]),r+=1;return e})),Ai=Bt((function(t,n){for(var e={},r=0,o=t.length;r<o;){var u=t[r];e[u]=n[u],r+=1}return e})),Ei=Ai,ji=Bt((function(t,n){var e={};for(var r in n)t(n[r],r,n)&&(e[r]=n[r]);return e})),xi=ji,Oi=Bt((function(t,n){return zt([t],n)})),Si=Rn(Zu,1),Ti=Bt((function(t,n){return Gt(n.length,(function(){for(var e=[],r=0;r<n.length;)e.push(n[r].call(this,arguments[r])),r+=1;return t.apply(this,e.concat(Array.prototype.slice.call(arguments,n.length)))}))})),Ni=Ti(an,[Ei,Ce]);function $i(t,n,e){return function(r){return n(e(t(r)))}}var Ii=function(){function t(t,n,e){this.xf=e,this.f=t,this.g=n}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=en.result,t.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,$i(this.f,this.g,n))},t}(),Fi=Zt(tn(["fantasy-land/promap","promap"],Zt((function(t,n,e){return new Ii(t,n,e)})),$i)),Pi=Zt((function(t,n,e){return Ye(n,Fn(t,e))})),Ri=Pi,Mi=Zt((function(t,n,e){return ru(t,Fn(n,e))})),ki=Mi,Ci=Zt((function(t,n,e){return wr(t,Fn(n,e))})),Di=Zt((function(t,n,e){return t(Fn(n,e))})),Ui=Di,Li=Bt((function(t,n){return t.map((function(t){return gu([t],n)}))})),Wi=Bt((function(t,n){if(!fu(t)||!fu(n))throw new TypeError("Both arguments to range must be numbers");for(var e=[],r=t;r<n;)e.push(r),r+=1;return e})),Bi=Zt((function(t,n,e){for(var r=e.length-1;r>=0;){if((n=t(e[r],n))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r-=1}return n})),qi=Vt(4,[],(function(t,n,e,r){return gn((function(e,r){return t(e,r)?n(e,r):nn(e)}),e,r)})),zi=Wt(nn),Yi=Bt((function(t,n){var e,r=Number(n),o=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(e=new Array(r);o<r;)e[o]=t(o),o+=1;return e})),Vi=Bt((function(t,n){return Yi(kn(t),n)})),Ji=Vi,Gi=Zt((function(t,n,e){return e.replace(t,n)})),Hi=Zt((function(t,n,e){for(var r=0,o=e.length,u=[n];r<o;)n=t(n,e[r]),u[r+1]=n,r+=1;return u})),Zi=Bt((function(t,n){return"function"==typeof n.sequence?n.sequence(t):Bi((function(t,n){return Wn(Nn(Oi,t),n)}),t([]),n)})),Ki=Zi,Qi=Zt((function(t,n,e){return pi(t,kn(n),e)})),Xi=Qi,ta=Bt((function(t,n){return Array.prototype.slice.call(n,0).sort(t)})),na=ta,ea=Bt((function(t,n){return Array.prototype.slice.call(n,0).sort((function(n,e){var r=t(n),o=t(e);return r<o?-1:r>o?1:0}))})),ra=Bt((function(t,n){return Array.prototype.slice.call(n,0).sort((function(n,e){for(var r=0,o=0;0===r&&o<t.length;)r=t[o](n,e),o+=1;return r}))})),oa=eu(1,"split"),ua=Bt((function(t,n){return[$e(0,t,n),$e(t,lu(n),n)]})),ia=ua,aa=Bt((function(t,n){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var e=[],r=0;r<n.length;)e.push($e(r,r+=t,n));return e})),ca=Bt((function(t,n){for(var e=0,r=n.length,o=[];e<r&&!t(n[e]);)o.push(n[e]),e+=1;return[o,Array.prototype.slice.call(n,e)]})),sa=Vt(2,[],(function(t,n){for(var e=[],r=[],o=0;o<n.length;o+=1)t(n[o])||r.push(n[o]),(o<n.length-1&&t(n[o+1])||o===n.length-1)&&r.length>0&&(e.push(r),r=[]);return e})),fa=Bt((function(t,n){return Ye(Mr(t.length,n),t)})),la=Bt((function(t,n){return Number(t)-Number(n)})),pa=Bt((function(t,n){return ur(Er(t,n),Er(n,t))})),ha=Zt((function(t,n,e){return ur(jr(t,n,e),jr(t,e,n))})),da=Bt((function(t,n){for(var e=n.length-1;e>=0&&t(n[e]);)e-=1;return $e(e+1,1/0,n)})),ya=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=en.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):nn(t)},t}(),ga=Bt(tn(["takeWhile"],Bt((function(t,n){return new ya(t,n)})),(function(t,n){for(var e=0,r=n.length;e<r&&t(n[e]);)e+=1;return $e(0,e,n)}))),va=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=en.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n),this.xf["@@transducer/step"](t,n)},t}(),ma=Bt(tn([],Bt((function(t,n){return new va(t,n)})),(function(t,n){return t(n),n})));var wa=Bt((function(t,n){if(e=t,"[object RegExp]"!==Object.prototype.toString.call(e))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+or(t));var e;return me(t).test(n)})),ba=Bt((function(t,n){return ci("andThen",n),n.then(t)})),_a=eu(0,"toLowerCase"),Aa=Wt((function(t){var n=[];for(var e in t)wn(e,t)&&(n[n.length]=[e,t[e]]);return n})),Ea=Aa,ja=Wt((function(t){var n=[];for(var e in t)n[n.length]=[e,t[e]];return n})),xa=ja,Oa=eu(0,"toUpperCase"),Sa=Gt(4,(function(t,n,e,r){return gn(t("function"==typeof n?ln(n):n),e,r)})),Ta=Wt((function(t){for(var n=0,e=[];n<t.length;){for(var r=t[n],o=0;o<r.length;)void 0===e[o]&&(e[o]=[]),e[o].push(r[o]),o+=1;n+=1}return e})),Na=Zt((function(t,n,e){return"function"==typeof e["fantasy-land/traverse"]?e["fantasy-land/traverse"](n,t):"function"==typeof e.traverse?e.traverse(n,t):Ki(t,Nn(n,e))})),$a=Na,Ia="\t\n\v\f\r                　\u2028\u2029\ufeff",Fa=Wt("function"==typeof String.prototype.trim&&!Ia.trim()&&"​".trim()?function(t){return t.trim()}:function(t){var n=new RegExp("^["+Ia+"]["+Ia+"]*"),e=new RegExp("["+Ia+"]["+Ia+"]*$");return t.replace(n,"").replace(e,"")}),Pa=Bt((function(t,n){return Yt(t.length,(function(){try{return t.apply(this,arguments)}catch(t){return n.apply(this,zt([t],arguments))}}))})),Ra=Wt((function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}})),Ma=Wt((function(t){return ue(1,t)})),ka=Bt((function(t,n){return Gt(t,(function(){for(var e,r=1,o=n,u=0;r<=t&&"function"==typeof o;)e=r===t?arguments.length:u+o.length,o=o.apply(this,Array.prototype.slice.call(arguments,u,e)),r+=1,u=e;return o}))})),Ca=ka,Da=Bt((function(t,n){for(var e=t(n),r=[];e&&e.length;)r[r.length]=e[0],e=t(e[1]);return r})),Ua=Da,La=Bt(Re(Bo,zt)),Wa=function(){function t(t,n){this.xf=n,this.pred=t,this.items=[]}return t.prototype["@@transducer/init"]=en.init,t.prototype["@@transducer/result"]=en.result,t.prototype["@@transducer/step"]=function(t,n){return We(this.pred,n,this.items)?t:(this.items.push(n),this.xf["@@transducer/step"](t,n))},t}(),Ba=Bt(tn([],Bt((function(t,n){return new Wa(t,n)})),(function(t,n){for(var e,r=0,o=n.length,u=[];r<o;)We(t,e=n[r],u)||(u[u.length]=e),r+=1;return u}))),qa=Zt((function(t,n,e){return Ba(t,zt(n,e))})),za=Zt((function(t,n,e){return t(e)?e:n(e)})),Ya=ye(ke),Va=Zt((function(t,n,e){for(var r=e;!t(r);)r=n(r);return r})),Ja=Va,Ga=Bt((function(t,n){return t in n&&Qt(n[t])?an((function(e){return Xn(t,e,n)}),n[t]):[n]})),Ha=Wt((function(t){var n,e=[];for(n in t)e[e.length]=t[n];return e})),Za=Ha,Ka=function(t){return{value:t,"fantasy-land/map":function(){return this}}},Qa=Bt((function(t,n){return t(Ka)(n).value})),Xa=Qa,tc=Zt((function(t,n,e){return t(e)?n(e):e})),nc=Bt((function(t,n){for(var e in t)if(wn(e,t)&&!t[e](n[e]))return!1;return!0})),ec=nc,rc=Bt((function(t,n){for(var e in t)if(wn(e,t)&&t[e](n[e]))return!0;return!1})),oc=rc,uc=Bt((function(t,n){return ec(Nn(Ye,t),n)})),ic=Bt((function(t,n){return er(go(Je)(t),n)})),ac=Bt((function(t,n){return Boolean(!t^!n)})),cc=Bt((function(t,n){for(var e,r=0,o=t.length,u=n.length,i=[];r<o;){for(e=0;e<u;)i[i.length]=[t[r],n[e]],e+=1;r+=1}return i})),sc=Bt((function(t,n){for(var e=[],r=0,o=Math.min(t.length,n.length);r<o;)e[r]=[t[r],n[r]],r+=1;return e})),fc=Bt((function(t,n){for(var e=0,r=Math.min(t.length,n.length),o={};e<r;)o[t[e]]=n[e],e+=1;return o})),lc=fc,pc=Zt((function(t,n,e){for(var r=[],o=0,u=Math.min(n.length,e.length);o<u;)r[o]=t(n[o],e[o]),o+=1;return r})),hc=Wt((function(t){return Gt(t.length,(function(){var n=arguments;return function(){return t.apply(this,n)}}))})),dc=Object.freeze({__proto__:null,F:Ct,T:Dt,__:Ut,add:qt,addIndex:Ht,adjust:Kt,all:on,allPass:Mn,always:kn,and:Cn,andThen:ba,any:Un,anyPass:Ln,ap:Wn,aperture:zn,append:Yn,apply:Vn,applySpec:Zn,applyTo:Kn,ascend:Qn,assoc:oe,assocPath:ee,binary:ie,bind:pn,both:fe,call:le,chain:ye,clamp:ve,clone:Ae,collectBy:je,comparator:xe,complement:Se,compose:Re,composeWith:Ue,concat:ur,cond:ar,construct:fr,constructN:sr,converge:pr,count:hr,countBy:vr,curry:cr,curryN:Gt,dec:mr,defaultTo:wr,descend:br,difference:Er,differenceWith:jr,dissoc:$r,dissocPath:Tr,divide:Ir,drop:Pr,dropLast:Dr,dropLastWhile:Wr,dropRepeats:Vr,dropRepeatsWith:Yr,dropWhile:Gr,either:Zr,empty:Qr,endsWith:to,eqBy:no,eqProps:ro,equals:Ye,evolve:uo,filter:nr,find:ao,findIndex:so,findLast:lo,findLastIndex:ho,flatten:yo,flip:go,forEach:vo,forEachObjIndexed:mo,fromPairs:wo,groupBy:bo,groupWith:_o,gt:Ao,gte:Eo,has:Oo,hasIn:To,hasPath:jo,head:Me,identical:No,identity:Ce,ifElse:$o,inc:Io,includes:Fo,indexBy:Po,indexOf:Ro,init:Mo,innerJoin:ko,insert:Co,insertAll:Do,intersection:qo,intersperse:Yo,into:Ko,invert:Xo,invertObj:nu,invoker:eu,is:ru,isEmpty:ou,isNil:te,join:uu,juxt:iu,keys:Sn,keysIn:cu,last:zr,lastIndexOf:su,length:lu,lens:pu,lensIndex:du,lensPath:vu,lensProp:mu,lift:se,liftN:ce,lt:wu,lte:bu,map:Nn,mapAccum:_u,mapAccumRight:Au,mapObjIndexed:Eu,match:ju,mathMod:xu,max:un,maxBy:Ou,mean:Tu,median:Nu,memoizeWith:Iu,mergeAll:Fu,mergeDeepLeft:Mu,mergeDeepRight:ku,mergeDeepWith:Cu,mergeDeepWithKey:Ru,mergeLeft:Du,mergeRight:Uu,mergeWith:Lu,mergeWithKey:Pu,min:Wu,minBy:Bu,modify:Vu,modifyPath:zu,modulo:Ju,move:Hu,multiply:Zu,nAry:ue,negate:Qu,none:Xu,not:Oe,nth:In,nthArg:ti,o:ni,objOf:Jo,of:ri,omit:ui,on:ii,once:ai,or:Hr,otherwise:si,over:pi,pair:hi,partial:yi,partialObject:Ku,partialRight:gi,partition:vi,path:gu,pathEq:mi,pathOr:wi,pathSatisfies:bi,paths:yu,pick:_i,pickAll:Ei,pickBy:xi,pipe:Fe,pipeWith:De,pluck:Pn,prepend:Oi,product:Si,project:Ni,promap:Fi,prop:Fn,propEq:Ri,propIs:ki,propOr:Ci,propSatisfies:Ui,props:Li,range:Wi,reduce:Rn,reduceBy:gr,reduceRight:Bi,reduceWhile:qi,reduced:zi,reject:er,remove:Or,repeat:Ji,replace:Gi,reverse:Pe,scan:Hi,sequence:Ki,set:Xi,slice:$e,sort:na,sortBy:ea,sortWith:ra,split:oa,splitAt:ia,splitEvery:aa,splitWhen:ca,splitWhenever:sa,startsWith:fa,subtract:la,sum:Su,symmetricDifference:pa,symmetricDifferenceWith:ha,tail:Ie,take:Mr,takeLast:Xr,takeLastWhile:da,takeWhile:ga,tap:ma,test:wa,thunkify:hc,times:Yi,toLower:_a,toPairs:Ea,toPairsIn:xa,toString:or,toUpper:Oa,transduce:Sa,transpose:Ta,traverse:$a,trim:Fa,tryCatch:Pa,type:we,unapply:Ra,unary:Ma,uncurryN:Ca,unfold:Ua,union:La,unionWith:qa,uniq:Bo,uniqBy:Wo,uniqWith:Ba,unless:za,unnest:Ya,until:Ja,unwind:Ga,update:hu,useWith:Ti,values:Gn,valuesIn:Za,view:Xa,when:tc,where:ec,whereAny:oc,whereEq:uc,without:ic,xor:ac,xprod:cc,zip:sc,zipObj:lc,zipWith:pc}),yc="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function gc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var vc={exports:{}};vc.exports=function(){var t="@@type",n=new RegExp("^([\\s\\S]+)/([\\s\\S]+?)(?:@([0-9]+))?$");function e(n){return null!=n&&null!=n.constructor&&n.constructor.prototype!==n&&"string"==typeof n[t]?n[t]:Object.prototype.toString.call(n).slice(8,-1)}return e.parse=function(t){var e=null,r=t,o=0,u=n.exec(t);return null!=u&&(e=u[1],r=u[2],null!=u[3]&&(o=Number(u[3]))),{namespace:e,name:r,version:o}},e}();var mc=gc(vc.exports),wc={alt:"fantasy-land/alt",ap:"fantasy-land/ap",bimap:"fantasy-land/bimap",chain:"fantasy-land/chain",chainRec:"fantasy-land/chainRec",map:"fantasy-land/map",of:"fantasy-land/of",zero:"fantasy-land/zero"},bc=["first","second","third","fourth","fifth"],_c="fluture",Ac="Future",Ec=5,jc=_c+"/"+Ac+"@"+Ec;function xc(t,n){this.head=t,this.tail=n}xc.prototype.toJSON=function(){return $c(this)};var Oc=new xc(null,null);function Sc(t){return t.tail===t}function Tc(t,n){return new xc(t,n)}function Nc(t){for(var n=Oc,e=t;!Sc(e);)n=Tc(e.head,n),e=e.tail;return n}function $c(t){for(var n=t,e=[];!Sc(n);)e.push(n.head),n=n.tail;return e}Oc.tail=Oc;var Ic=Error.captureStackTrace||function(t){var n=new Error;"string"==typeof n.stack?t.stack=t.name+"\n"+n.stack.split("\n").slice(1).join("\n"):t.stack=t.name},Fc=Pc;function Pc(t){return t}function Rc(t,n,e,r,o){return n(e,r,o)}function Mc(t,n,e,r,o){return Fc(t,n,e,r,o)}function kc(t,n,e){return Mc(t,Cc,t,n,e)}function Cc(t,n,e){var r={tag:n,name:" from "+n+":"};return Ic(r,e),Tc(r,t)}function Dc(t,n,e){return Cc(t,bc[n-1]+" application of "+e.name,e)}var Uc={exports:{}};Uc.exports=function(){var t="@@show",n=[];function e(t){return function(n){return o(n)+": "+o(t[n])}}function r(t){return Object.keys(t).sort()}function o(u){if(n.indexOf(u)>=0)return"<Circular>";switch(Object.prototype.toString.call(u)){case"[object Boolean]":return"object"==typeof u?"new Boolean ("+o(u.valueOf())+")":u.toString();case"[object Number]":return"object"==typeof u?"new Number ("+o(u.valueOf())+")":1/u==-1/0?"-0":u.toString(10);case"[object String]":return"object"==typeof u?"new String ("+o(u.valueOf())+")":JSON.stringify(u);case"[object Date]":return"new Date ("+o(isNaN(u.valueOf())?NaN:u.toISOString())+")";case"[object Error]":return"new "+u.name+" ("+o(u.message)+")";case"[object Arguments]":return"function () { return arguments; } ("+Array.prototype.map.call(u,o).join(", ")+")";case"[object Array]":n.push(u);try{return"["+u.map(o).concat(r(u).filter((function(t){return!/^\d+$/.test(t)})).map(e(u))).join(", ")+"]"}finally{n.pop()}case"[object Object]":n.push(u);try{return!(t in u)||null!=u.constructor&&u.constructor.prototype===u?"{"+r(u).map(e(u)).join(", ")+"}":u[t]()}finally{n.pop()}case"[object Set]":n.push(u);try{return"new Set ("+o(Array.from(u.values()))+")"}finally{n.pop()}case"[object Map]":n.push(u);try{return"new Map ("+o(Array.from(u.entries()))+")"}finally{n.pop()}default:return String(u)}}return o}();var Lc=gc(Uc.exports),Wc=void 0===Wc?function(t,n){return setTimeout(t,0,n)}:Wc;function Bc(){}function qc(t,n){return t(n)}function zc(t){Wc((function(){throw t}))}function Yc(t){return Lc(t)+" :: "+mc.parse(mc(t)).name}function Vc(t){return new Error(t)}function Jc(t){return new TypeError(t)}function Gc(t,n,e,r){return Jc(t+"() expects its "+bc[n]+" argument to "+e+".\n  Actual: "+Yc(r))}function Hc(t){return function(n,e,r){return Gc(n,e,t,r)}}function Zc(t,n,e){var r,o=mc.parse(mc(n));return Jc(t+" to be a valid Future."+(o.name===Ac?"\n"+(o.namespace!==_c?(r=o.namespace,"The Future was not created by "+_c+". Make sure you transform other Futures to "+_c+" Futures. Got "+(r?"a Future from "+r:"an unscoped Future")+".\n  See: https://github.com/fluture-js/Fluture#casting-futures"):o.version!==Ec?function(t,n){return"The Future was created by "+(n<Ec?"an older":"a newer")+" version of "+_c+". This means that one of the sources which creates Futures is outdated. Update this source, or transform its created Futures to be compatible.\n  See: https://github.com/fluture-js/Fluture#casting-futures"}(0,o.version):"Nothing seems wrong. Contact the Fluture maintainers."):"")+"\n  Actual: "+Lc(n)+" :: "+o.name+(e||""))}function Kc(t,n,e,r){return Zc(t+"() expects its "+bc[n]+" argument",e,r)}function Qc(t,n,e){Object.defineProperty(t,n,{value:e,writable:!0,configurable:!0})}function Xc(t,n){var e=function(t,n){var e;try{if(t instanceof Error)return t;e="A Non-Error was thrown from a Future: "+Lc(t)}catch(t){e="Something was thrown from a Future, but it could not be converted to String"}var r=Vc(e);return Ic(r,n),r}(t,Xc),r=function(t,n){for(var e=n,r=Nc(t);!Sc(r);)e=Tc(r.head,e),r=r.tail;return e}(e.context||Oc,n.context),o=Vc(e.message);return Qc(o,"future",e.future||n),Qc(o,"reason",e.reason||e),Qc(o,"stack",o.reason.stack),ts(o,r)}function ts(t,n){return Qc(t,"context",n),Qc(t,"stack",t.stack+function(t){var n="",e=t;for(;e!==Oc;)n=n+"\n"+e.head.stack,e=e.tail;return n}(n)),t}function ns(t){return"function"==typeof t}function es(t){return null!==t&&"object"==typeof t}function rs(t,n){return null!=n&&ns(n[t])}function os(t){return rs(wc.map,t)}function us(t){return os(t)&&rs(wc.ap,t)}function is(t){return{done:!1,value:t}}function as(t){return{done:!0,value:t}}function cs(t){for(var n=new Array(t.arity),e=1;e<=t.arity;e++)n[e-1]=t["$"+String(e)];return n}function ss(t){return" ("+Lc(t)+")"}var fs={pred:function(){return!0},error:Hc("be anything")},ls={pred:ns,error:Hc("be a Function")},ps={pred:vs,error:Kc},hs={pred:function(t){return t===1/0||"number"==typeof t&&t>0&&t%1==0},error:Hc("be a positive Integer")};function ds(t,n,e,r,o){if(r.length<2&&e.pred(r[0]))return function(t,n,e){return Mc(t,Dc,t,n,e)}(o,t,n);var u=r.length>1?function(t,n){return new TypeError(t.name+"() expects to be called with a single argument per invocation\n  Saw: "+n.length+" arguments"+Array.prototype.slice.call(n).map((function(t,n){return"\n  "+(bc[n]?bc[n].charAt(0).toUpperCase()+bc[n].slice(1):"Argument "+String(n+1))+": "+Yc(t)})).join(""))}(n,r):e.error(n.name,t-1,r[0]);throw Ic(u,n),ts(u,o)}function ys(t,n,e){return ds(1,t,n,e,Oc)}function gs(t){var n=ys(gs,ls,arguments);return new ws(n,t)}function vs(t){return t instanceof gs||mc(t)===jc}function ms(t,n,e){var r=function(t,n,e,r){this.context=t,this.$1=n,this.$2=e,this.$3=r};return(r.prototype=Object.create(gs.prototype)).arity=t,r.prototype.name=n,r.prototype._interpret=e,r}gs["@@type"]=jc,gs.constructor={prototype:gs},gs[wc.of]=Ss,gs[wc.chainRec]=function(t,n){return Ss(is(n))._transform(new ks(Oc,(function n(e){return e.done?Ss(e.value):t(is,as,e.value)._transform(new ks(Oc,n))})))},gs.prototype["@@type"]=jc,gs.prototype["@@show"]=function(){return this.toString()},gs.prototype.pipe=function(t){if(!ns(t))throw Gc("Future#pipe",0,"be a Function",t);return t(this)},gs.prototype[wc.ap]=function t(n){var e=kc(Oc,"a Fantasy Land dispatch to ap",t);return n._transform(new Fs(e,this))},gs.prototype[wc.map]=function t(n){var e=kc(Oc,"a Fantasy Land dispatch to map",t);return this._transform(new Rs(e,n))},gs.prototype[wc.bimap]=function t(n,e){var r=kc(Oc,"a Fantasy Land dispatch to bimap",t);return this._transform(new Ms(r,n,e))},gs.prototype[wc.chain]=function t(n){var e=kc(Oc,"a Fantasy Land dispatch to chain",t);return this._transform(new ks(e,n))},gs.prototype[wc.alt]=function t(n){var e=kc(Oc,"a Fantasy Land dispatch to alt",t);return this._transform(new Ps(e,n))},gs.prototype.extractLeft=function(){return[]},gs.prototype.extractRight=function(){return[]},gs.prototype._transform=function(t){return new Ts(t.context,this,Tc(t,Oc))},gs.prototype.isTransformer=!1,gs.prototype.context=Oc,gs.prototype.arity=0,gs.prototype.name="future",gs.prototype.toString=function(){return this.name+cs(this).map(ss).join("")},gs.prototype.toJSON=function(){return{$:jc,kind:"interpreter",type:this.name,args:cs(this)}};var ws=ms(1,"Future",(function(t,n,e){var r=this.$1,o=!1,u=Bc,i=function(){o=!0};try{u=r((function(t){i=function(){o=!1,n(t)},o&&i()}),(function(t){i=function(){o=!1,e(t)},o&&i()}))}catch(n){return t(Xc(n,this)),Bc}return ns(u)&&0===u.length?(i(),function(){o&&(o=!1,u&&u())}):(t(Xc(Jc("The computation was expected to return a nullary cancellation function\n  Actual: "+Lc(u)),this)),Bc)})),bs=ms(0,"never",(function(){return Bc}));bs.prototype._isNever=!0;var _s=new bs(Oc);var As=ms(1,"crash",(function(t){return t(this.$1),Bc}));function Es(t){return new As(ys(Es,fs,arguments),t)}var js=ms(1,"reject",(function(t,n){return n(this.$1),Bc}));function xs(t){return new js(ys(xs,fs,arguments),t)}js.prototype.extractLeft=function(){return[this.$1]};var Os=ms(1,"resolve",(function(t,n,e){return e(this.$1),Bc}));function Ss(t){return new Os(ys(Ss,fs,arguments),t)}Os.prototype.extractRight=function(){return[this.$1]};var Ts=ms(2,"transform",(function(t,n,e){var r,o,u,i,a=Oc,c=Oc,s=Bc,f=!0;function l(){var t=c.head;return c=c.tail,t}function p(){var t=a.head;return a=a.tail,t}function h(t){if(u=!0,(r=t).isTransformer){for(var i=r.$2;!Sc(i);)a=Tc(i.head,a),i=i.tail;r=r.$1}f&&function(){f=!1;for(;;){if(u=!1,o=p())s=r._interpret(m,d,y),u||w();else{if(!(o=l()))break;s=r._interpret(m,d,y)}if(!u)return void(f=!0)}s=r._interpret(m,n,e)}()}function d(t){h(o.rejected(t))}function y(t){h(o.resolved(t))}function g(t,n){if(s(),a=Oc,f&&o!==n)for(o.cancel();(i=l())&&i!==n;)i.cancel();h(t)}function v(){for(s(),o&&o.cancel();i=l();)i.cancel()}function m(n){v(),u=!0,a=c=Oc;var e=Xc(n,r);r=_s,t(e)}function w(){for(a=Nc(a);a!==Oc;){if(i=a.head.run(g),u)return;c=Tc(i,c),a=a.tail}o=o.run(g)}return h(this),v}));Ts.prototype.isTransformer=!0,Ts.prototype._transform=function(t){return new Ts(t.context,this.$1,Tc(t,this.$2))},Ts.prototype.toString=function(){return $c(Nc(this.$2)).reduce((function(t,n){return n.name+cs(n).map(ss).join("")+" ("+t+")"}),this.$1.toString())};var Ns={rejected:function(t){return this.cancel(),new js(this.context,t)},resolved:function(t){return this.cancel(),new Os(this.context,t)},run:function(){return this},cancel:Bc,context:Oc,arity:0,name:"transform",toJSON:function(){return{$:jc,kind:"transformation",type:this.name,args:cs(this)}}};function $s(t){return function(n){var e;try{e=t.call(this,n)}catch(t){return new As(this.context,t)}return vs(e)?e:new As(this.context,Zc(this.name+" expects the return value from the function it's given",e,"\n  When called with: "+Lc(n)))}}function Is(t,n,e){var r=function(t,n,e){this.context=t,this.$1=n,this.$2=e};return(r.prototype=Object.create(Ns)).arity=t,r.prototype.name=n,"function"==typeof e.rejected&&(r.prototype.rejected=$s(e.rejected)),"function"==typeof e.resolved&&(r.prototype.resolved=$s(e.resolved)),"function"==typeof e.run&&(r.prototype.run=e.run),r}var Fs=Is(1,"ap",{resolved:function(t){if(ns(t))return this.$1._transform(new Rs(this.context,t));throw Jc("ap expects the second Future to resolve to a Function\n  Actual: "+Lc(t))}}),Ps=Is(1,"alt",{rejected:function(){return this.$1}}),Rs=Is(1,"map",{resolved:function(t){return new Os(this.context,qc(this.$1,t))}}),Ms=Is(2,"bimap",{rejected:function(t){return new js(this.context,qc(this.$1,t))},resolved:function(t){return new Os(this.context,qc(this.$2,t))}}),ks=Is(1,"chain",{resolved:function(t){return qc(this.$1,t)}}),Cs=ms(2,"after",(function(t,n,e){var r=setTimeout(e,this.$1,this.$2);return function(){clearTimeout(r)}}));function Ds(t){return _s}Cs.prototype.extractRight=function(){return[this.$2]};var Us={pred:function(t){return os(t)&&rs(wc.alt,t)},error:Hc("have Alt implemented")};var Ls=Is(1,"and",{resolved:function(){return this.$1}});var Ws={pred:us,error:Hc("have Apply implemented")};var Bs=ms(2,"encaseP",(function(t,n,e){var r,o,u=!0,i=this.$1,a=this.$2;try{r=i(a)}catch(n){return t(Xc(n,this)),Bc}return(o=r)instanceof Promise||null!=o&&ns(o.then)?(r.then((function(t){u&&(u=!1,e(t))}),(function(t){u&&(u=!1,n(t))})),function(){u=!1}):(t(Xc(function(t,n,e){return Jc("encaseP() expects the function it's given to return a Promise/Thenable\n  Actual: "+Lc(t)+"\n  From calling: "+Lc(n)+"\n  With: "+Lc(e))}(r,i,a),this)),Bc)}));function qs(t){var n=ys(qs,ls,arguments);return function e(r){var o=ds(2,e,fs,arguments,n);return new Bs(o,t,r)}}var zs=ms(2,"encase",(function(t,n,e){var r,o=this.$1;try{r=o(this.$2)}catch(t){return n(t),Bc}return e(r),Bc}));function Ys(t){var n=ys(Ys,ls,arguments);return function e(r){var o=ds(2,e,fs,arguments,n);return new zs(o,t,r)}}var Vs={pred:function(t){return os(t)&&rs(wc.bimap,t)},error:Hc("have Bifunctor implemented")};var Js=Is(2,"bichain",{rejected:function(t){return qc(this.$1,t)},resolved:function(t){return qc(this.$2,t)}});function Gs(t){var n=this;n.rec=Bc,n.rej=Bc,n.res=Bc,n.crashed=!1,n.rejected=!1,n.resolved=!1,n.value=null,n.cancel=t._interpret((function(t){n.value=t,n.crashed=!0,n.cancel=Bc,n.rec(t)}),(function(t){n.value=t,n.rejected=!0,n.cancel=Bc,n.rej(t)}),(function(t){n.value=t,n.resolved=!0,n.cancel=Bc,n.res(t)}))}function Hs(t,n){t(Es(n))}function Zs(t,n){t(xs(n))}function Ks(t,n,e,r,o){var u=Is(1,t,Object.assign({run:function(t){var o=new Gs(this.$1),i=new u(this.context,o);function a(n){t(n,i)}return i.cancel=o._interpret((function(t){n(a,t)}),(function(t){e(a,t)}),(function(t){r(a,t)})),i}},o));return u}Gs.prototype=Object.create(gs.prototype),Gs.prototype._interpret=function(t,n,e){return this.crashed?t(this.value):this.rejected?n(this.value):this.resolved?e(this.value):(this.rec=t,this.rej=n,this.res=e),this.cancel};var Qs=Is(1,"pair",{resolved:function(t){return new Os(this.context,[t,this.$1])}}),Xs=Ks("both",Hs,Zs,Bc,{resolved:function(t){return this.$1._transform(new Qs(this.context,t))}});function tf(t,n,e){this[2]=t,this[3]=n,this[4]=e}var nf=ms(1,"cache",(function(t,n,e){var r=Bc;switch(this._state){case 1:r=this._addToQueue(t,n,e);break;case 2:t(this._value);break;case 3:n(this._value);break;case 4:e(this._value);break;default:this._queue=[],r=this._addToQueue(t,n,e),this.run()}return r}));nf.prototype._cancel=Bc,nf.prototype._queue=null,nf.prototype._queued=0,nf.prototype._value=void 0,nf.prototype._state=0,nf.prototype.extractLeft=function(){return 3===this._state?[this._value]:[]},nf.prototype.extractRight=function(){return 4===this._state?[this._value]:[]},nf.prototype._addToQueue=function(t,n,e){var r=this;if(r._state>1)return Bc;var o=r._queue.push(new tf(t,n,e))-1;return r._queued=r._queued+1,function(){r._state>1||(r._queue[o]=void 0,r._queued=r._queued-1,0===r._queued&&r.reset())}},nf.prototype._drainQueue=function(){if(!(this._state<=1)&&0!==this._queued){for(var t=this._queue,n=t.length,e=this._state,r=this._value,o=0;o<n;o++)t[o]&&t[o][e](r),t[o]=void 0;this._queue=void 0,this._queued=0}},nf.prototype.crash=function(t){this._state>1||(this._value=t,this._state=2,this._drainQueue())},nf.prototype.reject=function(t){this._state>1||(this._value=t,this._state=3,this._drainQueue())},nf.prototype.resolve=function(t){this._state>1||(this._value=t,this._state=4,this._drainQueue())},nf.prototype.run=function(){var t=this;t._state>0||(t._state=1,t._cancel=t.$1._interpret((function(n){t.crash(n)}),(function(n){t.reject(n)}),(function(n){t.resolve(n)})))},nf.prototype.reset=function(){0!==this._state&&(1===this._state&&this._cancel(),this._cancel=Bc,this._queue=[],this._queued=0,this._value=void 0,this._state=0)};var ef=Is(1,"chainRej",{rejected:function(t){return qc(this.$1,t)}});var rf={pred:function(t){return us(t)&&rs(wc.chain,t)},error:Hc("have Chain implemented")};var of=Is(2,"coalesce",{rejected:function(t){return new Os(this.context,qc(this.$1,t))},resolved:function(t){return new Os(this.context,qc(this.$2,t))}});function uf(t){return Jc("The iterator did not return a valid iteration from iterator.next()\n  Actual: "+Lc(t))}function af(t){return Zc("go() expects the value produced by the iterator",t,"\n  Tip: If you're using a generator, make sure you always yield a Future")}var cf=ms(1,"go",(function(t,n,e){var r,o,u,i=this,a=0,c=Bc;function s(n){t(Xc(n,i))}try{u=i.$1()}catch(t){return s(t),Bc}if(!function(t){return es(t)&&ns(t.next)}(u))return s(Gc("go",0,'return an iterator, maybe you forgot the "*"',u)),Bc;function f(t){if(o=t,2===a)return l();a=1}function l(){for(;;){try{r=u.next(o)}catch(t){return s(t)}if(!es(t=r)||"boolean"!=typeof t.done)return s(uf(r));if(r.done)break;if(!vs(r.value))return s(af(r.value));if(a=0,c=r.value._interpret(s,n,f),0===a)return a=2}var t;e(r.value)}return l(),function(){c()}}));var sf=ms(3,"hook",(function(t,n,e){var r,o,u,i=this,a=this.$1,c=this.$2,s=this.$3,f=Bc,l=Bc;function p(){l(u)}function h(n){t(Xc(n,i))}function d(){var t,n;try{t=c(o)}catch(t){return h(t)}if(!vs(t))return h((n=o,Zc("hook() expects the return value from the first function it's given",t,"\n  From calling: "+Lc(c)+"\n  With: "+Lc(n))));r=g,t._interpret(h,v,p)}function y(){f(),d(),g()}function g(){l=Bc}function v(t){h(new Error("The disposal Future rejected with "+Lc(t)))}function m(t){l=h,u=t,d()}function w(t){l=n,u=t,d()}function b(t){l=e,u=t,d()}var _=a._interpret(h,n,(function(t){var n;o=t;try{n=s(o)}catch(t){return m(t)}if(!vs(n))return m(function(t,n,e){return Zc("hook() expects the return value from the second function it's given",t,"\n  From calling: "+Lc(n)+"\n  With: "+Lc(e))}(n,s,o));r=y,f=n._interpret(m,w,b)}));return r=r||_,function(){t=zc,r()}}));var ff=Is(1,"lastly",{rejected:function(t){return this.$1._transform(new Ls(this.context,new js(this.context,t)))},resolved:function(t){return this.$1._transform(new Ls(this.context,new Os(this.context,t)))}});var lf=Is(1,"mapRej",{rejected:function(t){return new js(this.context,qc(this.$1,t))}});var pf={pred:os,error:Hc("have Functor implemented")};var hf=ms(1,"node",(function(t,n,e){var r=!1,o=function(){r=!0};try{qc(this.$1,(function(t,u){o=t?function(){r=!1,n(t)}:function(){r=!1,e(u)},r&&o()}))}catch(n){return t(Xc(n,this)),r=!1,Bc}return o(),function(){r=!1}}));var df=Ks("pap",Hs,Zs,Bc,{resolved:function(t){if(ns(t))return this.$1._transform(new Rs(this.context,t));throw Jc("pap expects the second Future to resolve to a Function\n  Actual: "+Lc(t))}});var yf={pred:function(t){if(n=t,!Array.isArray(n))return!1;for(var n,e=0;e<t.length;e++)if(!vs(t[e]))return!1;return!0},error:Hc("be an Array of valid Futures")},gf=ms(2,"parallel",(function(t,n,e){var r=this,o=this.$2,u=o.length,i=Math.min(this.$1,u),a=new Array(u),c=new Array(u),s=0,f=0,l=!1,p=Bc;function h(){t=Bc,n=Bc,e=Bc,s=u;for(var r=0;r<u;r++)a[r]&&a[r]()}function d(i){f++,a[i]=o[i]._interpret((function(n){p=t,a[i]=Bc,h(),p(Xc(n,r))}),(function(t){p=n,a[i]=Bc,h(),p(t)}),(function(t){a[i]=Bc,c[i]=t,f--,s===u&&0===f?e(c):l&&y()}))}function y(){for(l=!1;s<u&&f<i;)d(s++);l=!0}return y(),h})),vf=Ss([]);function mf(t){var n=ys(mf,hs,arguments);return function e(r){var o=ds(2,e,yf,arguments,n);return 0===r.length?vf:new gf(o,t,r)}}var wf=Ks("race",Hs,Zs,(function(t,n){t(Ss(n))}),{});function bf(t){this.sequential=t}function _f(t){if(!vs(t))throw Kc(_f.name,0,t);return new bf(t)}bf.prototype=Object.create(_f.prototype);var Af=_c+"/ConcurrentFuture@"+Ec,Ef=new bf(_s);_f["@@type"]=Af,_f.constructor={prototype:_f},_f[wc.of]=function(t){return new bf(Ss(t))},_f[wc.zero]=function(){return Ef},_f.prototype["@@type"]=Af,_f.prototype["@@show"]=function(){return this.toString()},_f.prototype.toString=function(){return"Par ("+this.sequential.toString()+")"},_f.prototype[wc.map]=function t(n){var e=kc(Oc,"a Fantasy Land dispatch to map via ConcurrentFuture",t);return new bf(this.sequential._transform(new Rs(e,n)))},_f.prototype[wc.ap]=function t(n){var e=kc(Oc,"a Fantasy Land dispatch to ap via ConcurrentFuture",t);return new bf(n.sequential._transform(new df(e,this.sequential)))},_f.prototype[wc.alt]=function t(n){var e=kc(Oc,"a Fantasy Land dispatch to alt via ConcurrentFuture",t);return new bf(n.sequential._transform(new wf(e,this.sequential)))};var jf=ms(2,"rejectAfter",(function(t,n){var e=setTimeout(n,this.$1,this.$2);return function(){clearTimeout(e)}}));function xf(t){return _s}jf.prototype.extractLeft=function(){return[this.$2]};var Of={pred:function(t){return t instanceof bf||mc(t)===Af},error:Hc("be a ConcurrentFuture")};var Sf=Is(0,"swap",{resolved:function(t){return new js(this.context,t)},rejected:function(t){return new Os(this.context,t)}});var Tf=Object.freeze({__proto__:null,Future:gs,Par:_f,after:function t(n){var e=ys(t,hs,arguments);return n===1/0?Ds:function t(r){var o=ds(2,t,fs,arguments,e);return new Cs(o,n,r)}},alt:function t(n){if(vs(n)){var e=ys(t,ps,arguments);return function t(r){var o=ds(2,t,ps,arguments,e);return r._transform(new Ps(o,n))}}var r=ys(t,Us,arguments);return function t(e){return ds(2,t,Us,arguments,r),n[wc.alt](e)}},and:function t(n){var e=ys(t,ps,arguments);return function t(r){var o=ds(2,t,ps,arguments,e);return r._transform(new Ls(o,n))}},ap:function t(n){if(vs(n)){var e=ys(t,ps,arguments);return function t(r){var o=ds(2,t,ps,arguments,e);return r._transform(new Fs(o,n))}}var r=ys(t,Ws,arguments);return function t(e){return ds(2,t,Ws,arguments,r),n[wc.ap](e)}},attempt:function(t){return Ys.apply(this,arguments)(void 0)},attemptP:function(t){return qs.apply(this,arguments)(void 0)},bichain:function t(n){var e=ys(t,ls,arguments);return function t(r){var o=ds(2,t,ls,arguments,e);return function t(e){var u=ds(3,t,ps,arguments,o);return e._transform(new Js(u,n,r))}}},bimap:function t(n){var e=ys(t,ls,arguments);return function t(r){var o=ds(2,t,ls,arguments,e);return function t(e){var u=ds(3,t,Vs,arguments,o);return vs(e)?e._transform(new Ms(u,n,r)):e[wc.bimap](n,r)}}},both:function t(n){var e=ys(t,ps,arguments);return function t(r){var o=ds(2,t,ps,arguments,e);return r._transform(new Xs(o,n))}},cache:function t(n){return new nf(ys(t,ps,arguments),n)},chain:function t(n){var e=ys(t,ls,arguments);return function t(r){var o=ds(2,t,rf,arguments,e);return vs(r)?r._transform(new ks(o,n)):r[wc.chain](n)}},chainRej:function t(n){var e=ys(t,ls,arguments);return function t(r){var o=ds(2,t,ps,arguments,e);return r._transform(new ef(o,n))}},coalesce:function t(n){var e=ys(t,ls,arguments);return function t(r){var o=ds(2,t,ls,arguments,e);return function t(e){var u=ds(3,t,ps,arguments,o);return e._transform(new of(u,n,r))}}},debugMode:function(t){Fc=t?Rc:Pc},default:gs,done:function t(n){var e=ys(t,ls,arguments);function r(t){n(null,t)}return function t(o){return ds(2,t,ps,arguments,e),o._interpret(zc,n,r)}},encase:Ys,encaseP:qs,extractLeft:function t(n){return ys(t,ps,arguments),n.extractLeft()},extractRight:function t(n){return ys(t,ps,arguments),n.extractRight()},fork:function t(n){var e=ys(t,ls,arguments);return function t(r){var o=ds(2,t,ls,arguments,e);return function t(e){return ds(3,t,ps,arguments,o),e._interpret(zc,n,r)}}},forkCatch:function t(n){var e=ys(t,ls,arguments);return function t(r){var o=ds(2,t,ls,arguments,e);return function t(e){var u=ds(3,t,ls,arguments,o);return function t(o){return ds(4,t,ps,arguments,u),o._interpret(n,r,e)}}}},go:function t(n){return new cf(ys(t,ls,arguments),n)},hook:function t(n){var e=ys(t,ps,arguments);return function t(r){var o=ds(2,t,ls,arguments,e);return function t(e){var u=ds(3,t,ls,arguments,o);return new sf(u,n,r,e)}}},isFuture:vs,isNever:function(t){return vs(t)&&!0===t._isNever},lastly:function t(n){var e=ys(t,ps,arguments);return function t(r){var o=ds(2,t,ps,arguments,e);return r._transform(new ff(o,n))}},map:function t(n){var e=ys(t,ls,arguments);return function t(r){var o=ds(2,t,pf,arguments,e);return vs(r)?r._transform(new Rs(o,n)):r[wc.map](n)}},mapRej:function t(n){var e=ys(t,ls,arguments);return function t(r){var o=ds(2,t,ps,arguments,e);return r._transform(new lf(o,n))}},never:_s,node:function t(n){return new hf(ys(t,ls,arguments),n)},pap:function t(n){var e=ys(t,ps,arguments);return function t(r){var o=ds(2,t,ps,arguments,e);return r._transform(new df(o,n))}},parallel:mf,promise:function t(n){return ys(t,ps,arguments),new Promise((function(t,e){n._interpret(e,e,t)}))},race:function t(n){var e=ys(t,ps,arguments);return function t(r){var o=ds(2,t,ps,arguments,e);return r._transform(new wf(o,n))}},reject:xs,rejectAfter:function t(n){var e=ys(t,hs,arguments);return n===1/0?xf:function t(r){var o=ds(2,t,fs,arguments,e);return new jf(o,n,r)}},resolve:Ss,seq:function t(n){return ys(t,Of,arguments),n.sequential},swap:function t(n){var e=ys(t,ps,arguments);return n._transform(new Sf(e))},value:function t(n){var e=ys(t,ls,arguments);return function t(r){return ds(2,t,ps,arguments,e),r._interpret(zc,(function(t){zc(Vc("Future#value was called on a rejected Future\n  Rejection: "+Lc(t)+"\n  Future: "+Lc(r)))}),n)}}});const Nf={},$f=Gt(2,((t,n)=>e=>{const r=Object.entries(n),o=e.reduce(((n,e,o)=>{const u=t(e);return r.forEach((([t,r])=>{n[u]=n[u]??{},n[u][t]=r(n[u]?.[t],e?.[t],n[u],e)})),n[u]={...e,...n[u]},n}),{});return Object.values(o)}));Nf.groupByWithCalc=$f;const If=Gt(4,((t,n=((t,n,e)=>e),e,r)=>{const o=Ca(2,t);return ye((t=>{const r=Fe(nr(o(Ut,t)),Nn(Pu(n,Ut,t)))(e);return 0===r.length?t:r}))(r)}));Nf.innerRightJoinWith=If;const Ff=Gt(5,(function(t,n,e,r,o){const u=new Map;for(let t of o)u.set(r(t),t);for(let t of e)void 0===u.get(n(t))&&u.set(n(t),t);return!0===t||!1===t?Array.from(u.entries()).sort(ht("0",t)).map((t=>t[1])):Array.from(u.values())}));function Pf(t,n){return t!==n&&(void 0===n||t<n)}function Rf(t,n){return t!==n&&(void 0===t||t>n)}function Mf(t,n){try{return n(t)}catch(t){return}}Nf.unionWithHashKeys=Ff;const kf=Gt(5,(function(t,n,e,r,o){const u=new Map;let i=Mf(e[0],n),a=Mf(o[0],r);for(let t=0,c=0;t<e.length||c<o.length;)Pf(a,i)?(void 0===u.get(a)&&u.set(a,o[c]),c++,a=Mf(o[c],r)):Rf(a,i)?(u.set(i,e[t]),t++,i=Mf(e[t],n)):(u.set(i,e[t]),t++,c++,i=Mf(e[t],n),a=Mf(o[c],r));return!0===t||!1===t?Array.from(u.entries()).sort(ht("0",t)).map((t=>t[1])):Array.from(u.values())}));Nf.updateWithHashKeys=kf;const Cf=cr(((t,n)=>fe(Eo(Ut,t),wu(Ut,n))));Nf.between=Cf;const Df=Gt(2,((t,n)=>!1===te(t)&&!1===te(n)&&(t.id||t.Id||t.ID)===(n.id||n.Id||n.ID)&&void 0!==(t.id||t.Id||t.ID)));Nf.matchByPropId=Df;const Uf=Gt(2,(function(t,n){return Rn(((n,e)=>t(e)?hu(1,Yn(e,n[1]),n):hu(0,Yn(e,n[0]),n)),[[],[]])}));Nf.splitCond=Uf;const Lf=cr(((t,n,e)=>Rn(((e,r)=>t(r)?Yn(n(r),e):e),[],e)));Nf.filterMap=Lf;const Wf=cr(((t,n,e)=>e.map(((r,o)=>{let u;return u=o===e.length-1?n:e[o+1],t(r,u)}))));Nf.mapWithNext=Wf;const Bf=cr(((t,n,e)=>e.map(((r,o)=>{let u;return u=0===o?n:e[o-1],t(u,r)}))));Nf.mapWithPrevious=Bf;const qf=cr(((t,n,e,r)=>r.filter((r=>{let o=r;return null!=e&&"function"!=typeof e&&(o=r[e]),null!=e&&"function"==typeof e&&(o=e(r)),!n.find((n=>{let e=n;return null!=t&&"function"!=typeof t&&(e=n[t]),null!=t&&"function"==typeof t&&(e=t(n)),o===e}))}))));Nf.exclude=qf;const zf=Fe(Ri("0","unfold"),Oe),Yf=Fe(Fn("1"),we,Ye("Function"));function Vf(t){return(...n)=>Fe(Object.entries,Nf.filterMap(fe(zf,Yf),ye(Yn,Fe(Fn("1"),Pa(Fe((t=>{const e=Hf(!0)(t),r=e(...Ae(n));return"function"==typeof r[0]&&n.length>1?e(Ae(...Mo(n)))(Ae(zr(n))):r})),((t,e)=>{try{return[e(Ae(...Mo(n)))(Ae(zr(n))),"(all,arguments,but)(last)"]}catch(t){return["error"]}}))))))(t)}function Jf(t,n){return Pa(Fe(nr((n=>Ye(n[2][0],t))),Nn(Zn({fun:Fn("0"),sign:gu(["2","1"])}))),(()=>[]))(n)}function Gf(t,n){return(...e)=>{let r=t,o=0;if(0===n)return r(...e);const u=(...t)=>o>=n?r(...e)(...t):(r=r(...t),o+=t.length,o>=n?r(...e):u);return u}}function Hf(t=!1){return function n(e){let r=0,o=e,u="";return function(...e){let i,a;for(;r<e.length&&"function"==typeof o;)i=0===o.length?e.length:r+o.length,a=e.slice(r,i),r=i,"function"==typeof o&&(u=`${u}(${a.map((t=>typeof t)).join(",")})`,o=o(...a));return"function"==typeof o?t?[n(o),u]:n(o):t?[o,u]:o}}}function Zf(t,n){return t.constructor(((t,e)=>(t(n),()=>{})))}function Kf(t,n){return n instanceof Error&&"Future"===t?.constructor?.name}Nf.partialAtPos=Gf;const Qf=function(...t){return function(...n){return t.reduce(((t,n,e)=>{let r,o=n;if(0===e&&t.length>1){const e=t.filter((t=>"Future"===t?.constructor?.name)).length;e>1?t[t.length-1]=xs(new Error("Only one Future allowed...")):1===e&&"Future"!==zr(t)?.constructor?.name?t[t.length-1]=xs(new Error("Future param must be the last param of the function")):o=n?.bind(void 0,...t.slice(0,t.length-1))}return 0===e&&(t=t[t.length-1]),t instanceof Error?t:("function"==typeof t?.chain?r=t.chain:"function"==typeof t?.["fantasy-land/chain"]?r=t["fantasy-land/chain"].bind(t):"function"==typeof t?.flatMap&&(r=t.flatMap.bind(t)),r?r((n=>{if(Kf(t,n))return Zf(t,n);let e;if("Future"===t?.constructor?.name)try{e=o(n)}catch(t){e=t}else e=o(n);return Kf(t,e)?Zf(t,e):e?.constructor?.name===t?.constructor?.name?e:"function"==typeof t?.constructor?.of?t.constructor.of(e):"function"==typeof t?.constructor?.["fantasy-land/of"]?t.constructor["fantasy-land/of"](e):e})):o(t))}),n)}};Nf.pipeWithChain=Qf;const Xf=function(...t){return function(...n){return t.reduce(((t,n,e)=>{let r,o=n;if(0===e&&t.length>1){const e=t.filter((t=>"Future"===t?.constructor?.name)).length;e>1?t[t.length-1]=xs(new Error("Only one Future allowed...")):1===e&&"Future"!==zr(t)?.constructor?.name?t[t.length-1]=xs(new Error("Future param must be the last param of the function")):o=n?.bind(void 0,...t.slice(0,t.length-1))}return 0===e&&(t=t[t.length-1]),t instanceof Error?t:("function"==typeof t?.chain?r=t.chain:"function"==typeof t?.["fantasy-land/chain"]?r=t["fantasy-land/chain"].bind(t):gt(t)&&(r=t.then.bind(t)),r?r((n=>{if(Kf(t,n))return Zf(t,n);let e;if("Future"===t?.constructor?.name||gt(t))try{e=o(n)}catch(t){e=t}else e=o(n);return Kf(t,e)?Zf(t,e):function(t,n){return n instanceof Error&&gt(t)}(t,e)?t.then((()=>Promise.reject(e))):e?.constructor?.name===t?.constructor?.name?e:"function"==typeof t?.constructor?.of?t.constructor.of(e):"function"==typeof t?.constructor?.["fantasy-land/of"]?t.constructor["fantasy-land/of"](e):e})):o(t))}),n)}};Nf.pipe=Xf;const tl=(t,n)=>(...e)=>(...r)=>{if("function"!=typeof t||e.some((t=>"function"!=typeof t))||void 0!==n&&"function"!=typeof n){const r=`funCond: ${typeof t} ${void 0===n?"":"ini: "+typeof n} funcs: ${e.map((t=>typeof t))}`;throw new Error(`pipeWhile was called without funcfion/s in funCond or pipe functions ${r}`)}"function"==typeof n&&n(...r);let o=r;for(;t(...o);)o=e.reduce(((t,n)=>[n(...t)]),o);return zr(o)};function nl(t=1/0){return n=>mf(t)(n.map((t=>vs(t)?t:Ss(t))))}Nf.pipeWhile=tl,Nf.parallel=nl;const el=(t=1/0)=>n=>e=>Nf.parallel(t)(n.map((t=>t(e))));Nf.runFutureFunctionsInParallel=el;const rl=(t=1/0)=>n=>e=>{if(!(t>0))throw new E("NUMBEROFFUNCTIONSTORUNINPARALLEL_MUST_BE_BETWEEN_0_TO_INFINITY");let r=0,o=0,u="sync",i="sync",a=[];return function c(){if(o>=n.length)return function(){if("future"===u)return Nf.parallel(t)(a);if("promise"===u)return Promise.all(a);return a}();return"promise"===i&&r>=t?(r--,zr(a).then(c)):(a[o]=n[o](e),function(t){i=vs(t)?"future":gt(t)?"promise":"sync","sync"===u&&(u=i);if("sync"!==i&&u!==i)throw new E("MIX_PROMISE_AND_FUTURE",`Promises and future cannot be mixed ${u} ${i}`)}(a[o]),"promise"===i&&r++,o++,c())}()};Nf.runFunctionsSyncOrParallel=rl;const ol=Gt(2,(function t(n,e){return!1===Array.isArray(n)?t([n],e):n.reduce(((t,n)=>{let r=n;"string"==typeof n&&(r={path:n});let{path:o,name:u,apply:i}=r,a=o.split(".");void 0===u&&(u=zr(a));let c=gu(a,e);return t[u]="function"==typeof i?i(c):c,t}),{})}));Nf.pickPaths=ol;const ul=Gt(3,(function(t,n,e){const r=t.length-e.length;return e.map(((e,o)=>({...e,...ol(n,t[o+r])})))}));function il(t){return(...n)=>{if("function"==typeof t){const e=r(n);console.log(t(...e))}else console.log(t,...n);return zr(n)}}function al(t,n){let e=parseInt(n,10);if("string"!=typeof t||isNaN(e))return t;const r=t.trim();if(r.length>=e)return r;const o=Math.floor((e-r.length)/2),u=e-r.length-o;return"".padEnd(o)+r+"".padEnd(u)}function cl(t,n){let e=parseInt(n,10);if("string"!=typeof t||isNaN(e))return t;const r=t.trim();return r.length>=e?r:r.padEnd(e)}function sl({HEADING_IDENTATION:t,ROW_IDENTATION:n}={HEADING_IDENTATION:al,ROW_IDENTATION:cl}){let e,r,o,u;return{loadParams:i=>a=>(r=i,o=a,{id:r,load:t=>{u=t,e=u.reduce(((t,n)=>{let e=(""+(n??"")).length;return t<e?e:t}),o.length)},getSize:()=>e,heading:{nextValue:function*(){yield t(o,e)}},row:{nextValue:function*(){for(let t of u)yield n(""+(t??""),e)}}})}}Nf.mergeArrayOfObjectsRenamingProps=ul,Nf.RLog=il,Nf.findSolution=Jf,Nf.something=Vf,Nf.uncurry=Hf;const fl=Symbol();function ll(t){let n;Array.isArray(t)&&(n=t.map(((t,n)=>"object"==typeof t?{[fl]:n,...t}:{[fl]:n}))),"object"==typeof t&&!1===Array.isArray(t)&&(n=Object.entries(t).map((([t,n])=>"object"==typeof n?{[fl]:t,...n}:{[fl]:t})));const e="│",r="┌",o="┐",u="┬",i="└",a="┘",c="┴",s="─",f="┼",l="├",p="┤",h=" ",d=" ",y="",g=[];function v(t){let n,r=[],o=!0,u={};do{n=!0;const i=g.reduce(((r,i,a)=>{o&&(u[a]=i[t].nextValue());const{value:c,done:s}=u[a].next();return!0!==s&&(n=!1),r+h+c+d+e}),y+e);!1===n&&r.push(i),o=!1}while(!1===n);return r}function m(){if(g.forEach((t=>t.load(n.map((n=>n[t.id]))))),0===g.length)return"[]";const t=[g.reduce(((t,n,e)=>t+s+"".padEnd(n.getSize(),s)+s+(e<g.length-1?u:o)),y+r),...v("heading"),g.reduce(((t,n,e)=>t+s+"".padEnd(n.getSize(),s)+s+(e<g.length-1?f:p)),y+l),...v("row"),g.reduce(((t,n,e)=>t+s+"".padEnd(n.getSize(),s)+s+(e<g.length-1?c:a)),y+i)];return t.join("\n")}function w({type:t,id:n,title:e}){let r=t.loadParams(n)(e??n);return g.push(r),{addColumn:w,draw:m}}return{addColumn:w,auto:function(){return n.map((t=>{Object.keys(t).map((t=>{void 0===g.find((n=>n.id===t))&&w({type:sl(),id:t})}))})),{draw:m}},draw:m}}function pl(t){console.log(ll(t).auto().draw())}function hl(t){let n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:void 0!==this?this:{};console.table?"bun"===n?.process?.argv0?console.log(ll(t).auto().draw()):console.table(t):console.log(t)}const dl=80,yl="|",gl="|",vl="-",ml=2,wl=[{limit:9e3,label:"ms",valueInUnits:t=>n=>n-t},{limit:54e4,label:"sec",valueInUnits:t=>n=>Math.floor((n-t)/1e3).toString()},{limit:1296e4,label:"min",valueInUnits:t=>n=>Math.floor((n-t)/6e4).toString()},{limit:47304e5,label:"hr",valueInUnits:t=>n=>Math.floor((n-t)/36e5).toString()},{limit:47304e7,label:"day",valueInUnits:t=>n=>Math.floor((n-t)/864e5).toString()},{limit:47304e8,label:"year",valueInUnits:t=>n=>Math.floor((n-t)/31536e6).toString()},{limit:1/0,label:"cen",valueInUnits:t=>n=>Math.floor((n-t)/31536e8).toString()}];function bl(t,n,e){return function(t,n,e){return t.substring(0,e)+n+t.substring(e+n.length)}(t,yl+"".padEnd(e-n-1,vl)+gl,n)}function _l(){let t,n,e,r,o,u;function i(t){return Math.floor((t-r[0])/o)}return{loadParams:a=>c=>(n=a,{id:n,load:n=>{e=n.map((t=>t.map((t=>({start:new Date(t.start).valueOf(),end:new Date(t.end).valueOf()}))))),r=[...new Set(e.flatMap((t=>t)).reduce(((t,n)=>[...t,n.start,n.end]),[]).sort(yt()))],o=(r[r.length-1]-r[0])/dl;let i=wl.findIndex((t=>r[r.length-1]-r[0]<t.limit));u=wl[i],t=u.label.length+1+dl+ml},getSize:()=>t,heading:{nextValue:function*(){yield r.reduce(((t,n)=>function(t,n,e,r){let o=""+n,u=Math.floor((o.length-1)/2),i=o.length-1-u;return t.length<e+u+r||t.substring(e-i-r,e+u+r).split("").some((t=>" "!==t))?t:t.substring(0,e-i)+o+t.substring(e+u+1)}(t,u.valueInUnits(r[0])(n),i(n)+3,1)),u.label+" "+"".padEnd(dl+ml))}},row:{nextValue:function*(){for(let n of e)yield n.reduce(((t,n)=>bl(t,i(n.start)+u.label.length+1,i(n.end)+u.label.length+1)),"".padEnd(t))}}})}}function Al(){let n;t?.now&&(n=()=>t.now()),void 0===n&&(n=()=>Date.now());let e={},r={};u("chronoCreation");let o=function(...t){let n,e,r;return t.length>=2?o(...t):(({type:n,displayFormat:e,referenceMiliseconds:r}=t[0]),o);function o(t,u,i){if(t>u)throw new Error("range(start, end) start cannot be > than end");function a(){if("miliseconds"===n&&"ms"===e&&void 0!==r){const n=El({start:r,end:t}),e=El({start:r,end:u});return`${"interval: "+i} { start:${n} <-${e-n}-> end:${e} }`}return`{ start:${t}, end:${u} }`}function c(n){let e=t>n.start?t:n.start,r=u<n.end?u:n.end;return void 0===e||void 0===r||e>r?o(void 0,void 0):o(e,r)}return{[Symbol.for("nodejs.util.inspect.custom")]:a,toString:a,intersect:c,start:t,end:u,interval:i}}}({type:"miliseconds",displayFormat:"ms",referenceMiliseconds:r.chronoCreation.miliseconds});function u(t){r[t]={date:new Date,miliseconds:n()}}function i(t){if("string"!=typeof t||!1===isNaN(Number(t)))throw new E("EVENT_NAME_MUST_HAVE_ALPHABETICS_CHARS",`Event name '${t}' must be of type string and contain some non numeric character`,t)}function a(t){let r=n();("string"==typeof t?[t]:t).forEach((t=>{i(t),e[t]??={},e[t].start??=[],e[t].start.push(r)}))}function c(t){let r=n();("string"==typeof t?[t]:t).forEach((t=>{if(void 0===e[t])throw new E("EVENT_NAME_NOT_FOUND",`No such Label '${t}' for .timeEnd(...)`,t);let n=e[t].start.pop();if(void 0===n)throw new E("EVENT_NAME_ALREADY_CONSUMED",`eventName: '${t}' was already consumed by a previous call to .timeEnd(...)`,t);e[t].ranges??=[],e[t].ranges.push(o(n,r))}))}function s(t){return Object.entries(t).reduce(((t,[n,e])=>(e.ranges.forEach((n=>{t[0]>n.start&&(t[0]=n.start),t[1]<n.end&&(t[1]=n.end)})),t)),[1/0,0]),t}function f(t){let n=0;const e=t.reduce(((t,e)=>{let r=t.find((t=>t.name===e.name));const o=e.range.end-e.range.start;return n+=o,r?r.elapse=r.elapse+o:t.push({name:e.name,elapse:o}),t}),[]).map((t=>(t.percentage=Number(Number(100*t.elapse/n).toFixed(2)),t.elapse=Math.floor(t.elapse),t)));return console.log(""),console.log("Total elapse Time of each event: "),pl(e),t}function l(t){return Fe($f((t=>JSON.stringify(t.runningEvents.sort(yt()))),{percentage:(t,n)=>(t??0)+n,elapseMs:(t,n)=>(t??0)+n}),Nn((t=>({...t,elapseMs:Math.floor(t.elapseMs),percentage:Number(t.percentage.toFixed(2))}))),(t=>{console.log(""),console.log("Coinciding Events timeline: "),pl(t)}))(t),t}function p(t){const n=ll(t);return n.addColumn({type:sl(),id:"event",title:"Events"}),n.addColumn({type:_l(),id:"ranges"}),n}function h(t){const n=p(Object.entries(t).map((([t,n])=>({event:t,ranges:n.ranges.map((({start:t,end:n})=>({start:Math.floor(t),end:Math.floor(n)})))}))));var e;return e=n,console.log(""),console.log("Timeline of events:"),console.log(e.draw()),t}function d(){u("report"),console.log(""),Object.entries(r).forEach((([t,n])=>console.log(t,": ",n.date))),Fe(h,s,y,f,g,na(ht("range.start")),v,l)(e)}function y(t){return Object.entries(t).reduce(((t,[n,e])=>(t.push(...e.ranges?.map((t=>({name:n,range:t})))??[]),t)),[])}function g(t){return t.reduce(((t,{name:n,range:e})=>(t.push({name:n,isLeft:!0,edge:e.start,edgeEnd:e.end}),t.push({name:n,isLeft:!1,edge:e.end}),t)),[]).sort(ht("edge")).reduce(((t,{name:n,isLeft:e,edge:r,edgeEnd:u},i,a)=>{if(e){let e=i;do{Et({runningEvents:[n],range:o(a[e].edge,a[e+1].edge)},t,["range"],((t,e)=>(At(n,e.runningEvents),e))),e++}while(a[e].name!==n||!1!==a[e].isLeft||a[e].edge!==u)}return t}),[]).filter((t=>t.range.start!==t.range.end))}function v(t){let n=0;return t.map((({runningEvents:t,range:e})=>{let r=El(e);return n+=r,{runningEvents:t,elapseMs:r}})).map((t=>(t.percentage=100*t.elapseMs/n,t)))}return{time:a,timeEnd:c,report:d,setTime:t=>n=>(a(t),n),setTimeEnd:t=>n=>(c(t),n),logReport:t=>(d(),t),timelineLines:function(){return p(Object.entries(e).map((([t,n])=>({event:t,ranges:n.ranges.map((({start:t,end:n})=>({start:Math.floor(t),end:Math.floor(n)})))})))).draw()},getChronoState:()=>e,setChronoStateUsingPerformanceAPIFormat:t=>{e=t.reduce(((t,{name:n,startTime:e,duration:r,entryType:u})=>(i(n),"mark"===u&&(t[n]??={},t[n].start??=[],t[n].start.push(e)),"measure"===u&&(t[n]??={},t[n].ranges??=[],t[n].ranges.push(o(e,e+r))),t)),{})},getChronoStateUsingPerformanceAPIFormat:()=>Object.entries(e).reduce(((t,[n,e])=>(e.start?.forEach((e=>t.push({duration:0,startTime:e,name:n,entryType:"mark"}))),e.ranges?.forEach((e=>t.push({duration:e.end-e.start,startTime:e.start,name:n,entryType:"measure"}))),t)),[]),average:function(){Object.entries(e).forEach((([t,n],e,r)=>{let u=0;r[0][1].ranges.forEach((({start:t,end:i},a)=>{if(0===e)return void(n.ranges[a]=o(t,i,a));const c=()=>{const e=n.ranges[u]?.start,o=r[0][1].ranges[a+1]?.start,i=e>=t,c=a+1===r[0][1].ranges.length||e<o;return i&&c};let s=!1;for(;c();){s=!0;const t=n.ranges[u];n.ranges[u+1];const e=n.ranges[u-1];e?.interval===a?(n.ranges[a]=o(t.start-(e.end-e.start),t.end,a),n.ranges.splice(u,1)):(n.ranges[u]=o(t.start,t.end,a),u++)}!1===s&&(jt(u,o(void 0,void 0,a),n.ranges),u++)}))})),e=Object.entries(e).reduce(((t,[n,e],r,u)=>{const[i,a]=function(t,n,e){let r=!0;for(;0!==n&&!0===r;)r=e[--n][1].ranges.some((({start:n,end:e},r)=>!(void 0!==n&&void 0!==e||void 0===t.ranges[r].start&&void 0===t.ranges[r].end)));return[e[n][1].ranges,e[n][0]]}(e,r,u),[c,s,f]=e.ranges.reduce((([t,n,e],{start:o=0,end:u=0},a)=>(t=t+u-o,0!==r&&0!==o&&0!==u&&(n=n+o-i[a].end,e=e+o-i[a].start),[t,n,e])),[0,0,0]);let l,p;const h=e.ranges.filter((({start:t,end:n})=>void 0!==t&void 0!==n)).length;return 0===r&&(l=u[0][1].ranges[0].start),0!==r&&Math.abs(s)<=Math.abs(f)&&(l=t[a].ranges[0].end+s/h),0!==r&&Math.abs(f)<Math.abs(s)&&(l=t[a].ranges[0].start+f/e.ranges.length),p=l+c/e.ranges.length,t[n]={ranges:[o(l,p,0)]},t}),{})},reset:function(){e={},r={chronoCreation:r.chronoCreation}}}}function El({start:t,end:n}){return n-t}async function jl(...t){const n=await fetch(...t),e=await n.json();return{status:n.status,body:e}}const{attemptP:xl,Future:Ol}=Tf,Sl=({url:t,options:n}={})=>xl((()=>jl(t,n))),Tl=t=>(...n)=>xl((()=>t(...n)));function Nl(t,n){let e=t.reduce(((t,{input:n,output:e})=>(t[JSON.stringify(n)]=e,t)),{});return function(t){const r=JSON.stringify(t);return Ol(((t,o)=>(setTimeout((()=>((t,n)=>{void 0!==e[r]?e[r].status>=600?n(new Error(JSON.stringify(e[r].body),null,2)):t({status:e[r].status,body:e[r].body}):n(new Error(`Fake Response not found for Request with key: ${r} in ${e}`))})(o,t)),parseInt(n,10)||0),function(){})))}}var $l,Il,Fl,Pl={exports:{}};Il=yc,Fl=function(){var t=function(){},n="undefined",e=typeof window!==n&&typeof window.navigator!==n&&/Trident\/|MSIE /.test(window.navigator.userAgent),r=["trace","debug","info","warn","error"];function o(t,n){var e=t[n];if("function"==typeof e.bind)return e.bind(t);try{return Function.prototype.bind.call(e,t)}catch(n){return function(){return Function.prototype.apply.apply(e,[t,arguments])}}}function u(){console.log&&(console.log.apply?console.log.apply(console,arguments):Function.prototype.apply.apply(console.log,[console,arguments])),console.trace&&console.trace()}function i(n,e){for(var o=0;o<r.length;o++){var u=r[o];this[u]=o<n?t:this.methodFactory(u,n,e)}this.log=this.debug}function a(t,e,r){return function(){typeof console!==n&&(i.call(this,e,r),this[t].apply(this,arguments))}}function c(r,i,c){return function(r){return"debug"===r&&(r="log"),typeof console!==n&&("trace"===r&&e?u:void 0!==console[r]?o(console,r):void 0!==console.log?o(console,"log"):t)}(r)||a.apply(this,arguments)}function s(t,e,o){var u,a=this;e=null==e?"WARN":e;var s="loglevel";function f(){var t;if(typeof window!==n&&s){try{t=window.localStorage[s]}catch(t){}if(typeof t===n)try{var e=window.document.cookie,r=e.indexOf(encodeURIComponent(s)+"=");-1!==r&&(t=/^([^;]+)/.exec(e.slice(r))[1])}catch(t){}return void 0===a.levels[t]&&(t=void 0),t}}"string"==typeof t?s+=":"+t:"symbol"==typeof t&&(s=void 0),a.name=t,a.levels={TRACE:0,DEBUG:1,INFO:2,WARN:3,ERROR:4,SILENT:5},a.methodFactory=o||c,a.getLevel=function(){return u},a.setLevel=function(e,o){if("string"==typeof e&&void 0!==a.levels[e.toUpperCase()]&&(e=a.levels[e.toUpperCase()]),!("number"==typeof e&&e>=0&&e<=a.levels.SILENT))throw"log.setLevel() called with invalid level: "+e;if(u=e,!1!==o&&function(t){var e=(r[t]||"silent").toUpperCase();if(typeof window!==n&&s){try{return void(window.localStorage[s]=e)}catch(t){}try{window.document.cookie=encodeURIComponent(s)+"="+e+";"}catch(t){}}}(e),i.call(a,e,t),typeof console===n&&e<a.levels.SILENT)return"No console available for logging"},a.setDefaultLevel=function(t){e=t,f()||a.setLevel(t,!1)},a.resetLevel=function(){a.setLevel(e,!1),function(){if(typeof window!==n&&s){try{return void window.localStorage.removeItem(s)}catch(t){}try{window.document.cookie=encodeURIComponent(s)+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC"}catch(t){}}}()},a.enableAll=function(t){a.setLevel(a.levels.TRACE,t)},a.disableAll=function(t){a.setLevel(a.levels.SILENT,t)};var l=f();null==l&&(l=e),a.setLevel(l,!1)}var f=new s,l={};f.getLogger=function(t){if("symbol"!=typeof t&&"string"!=typeof t||""===t)throw new TypeError("You must supply a name when creating a logger.");var n=l[t];return n||(n=l[t]=new s(t,f.getLevel(),f.methodFactory)),n};var p=typeof window!==n?window.log:void 0;return f.noConflict=function(){return typeof window!==n&&window.log===f&&(window.log=p),f},f.getLoggers=function(){return l},f.default=f,f},($l=Pl).exports?$l.exports=Fl():Il.log=Fl();var Rl=gc(Pl.exports);const Ml=function(){const t=H("$YYYY-$MM-$DD $hh:$mm:$ss",new Date),n={get:function(e,r,o){const u={apply:function(n,e,r){return n(`${t} ${r.join(" ")} `)}};return"function"==typeof e[r]&&["trace","debug","info","warn","error","log"].includes(r)?new Proxy(e[r],u):void 0!==n[r]?n[r]:e[r]},set:function(t,e,r){return void 0!==n[e]?n[e]=r:t[e]=r,!0}};return new Proxy(Rl,n)}();Ml.LEVEL_NUMBER_TO_NAME=Object.entries(Rl.levels).map((t=>t[0])),Ml.NAME_TO_LEVEL_NUMBER={...Rl.levels},Ml.levelName=function(t){return"number"==typeof t?Ml.LEVEL_NUMBER_TO_NAME[t]:t},Ml.levelNumber=function(t){return"string"==typeof t?Ml.NAME_TO_LEVEL_NUMBER[t.toUpperCase()]:t};var kl=Cl;function Cl(t,n){return t===n||(t!=t&&n!=n||typeof t==typeof n&&{}.toString.call(t)=={}.toString.call(n)&&(t===Object(t)&&(!!t&&(Array.isArray(t)?Dl(t,n):"[object Set]"=={}.toString.call(t)?Dl(Array.from(t),Array.from(n)):"[object Object]"=={}.toString.call(t)?function(t,n){var e=Object.keys(t),r=e.length;if(r!=Object.keys(n).length)return!1;for(var o=0;o<r;o++){var u=e[o];if(!n.hasOwnProperty(u)||!Cl(t[u],n[u]))return!1}return!0}(t,n):function(t,n){return t.toString()===n.toString()}(t,n)))))}function Dl(t,n){var e=t.length;if(e!=n.length)return!1;for(var r=0;r<e;r++)if(!Cl(t[r],n[r]))return!1;return!0}const Ul=t=>t.map(((t,n)=>0===n?0:parseInt(t,10)));function Ll(t){let n=[];return I(t,((t,e,r)=>{"function"==typeof t&&n.push({value:t,path:Ul(e)})})),n.push({value:Ce,path:[1]}),n}const Wl=t=>n=>t?.length>n?.length&&kl(n,t.slice(0,n.length));var Bl;(void 0!==(Bl=[0,0])&&0!==Bl.length&&(t=>n=>kl(Bl,t?.slice(0,Bl.length))&&kl(Bl,n?.slice(0,Bl.length))))([0,0,0,0])([0,0]);const ql=(t,n,e)=>{var r;return(r=zr(t)?.path,t=>kl(r?.slice(0,-1),t?.slice(0,-1)))(n.path)?t[t.length-1].value=Xf(zr(t).value,n.value):t.push(n),t};function zl(t){return t.reduce(ql,[])}const Yl=function(t){let n=!1,e=[];return(r,o,u,i)=>{const a=o.path.slice(0,-1),c=a?.slice(0,-1),s=i[u+1]?.path,f=s?.slice(0,-1),l=f?.slice(0,-1),p=i[u-1]?.path;p?.slice(0,-2);let h=o.path.length>=3&&kl(c,l)&&kl(function(t){return n=>t.filter((t=>n.length<t.path.length&&kl(t.path.slice(0,n.length),n)))}(i)(a),[o])&&(n||!1===Wl(p)(c)||!0===Wl(p)(c)&&p.length<o.path.length);if(!0===h&&(n=!0,e.push(o)),!1===h&&!0===n){if(s?.length>o.path.length&&Wl(s)(c))return r.push(...e),r.push(o),n=!1,e=[],r;e.push(o),r.push({value:rl(t)(Pn("value",e)),path:o.path.slice(0,-1)})}return!1===h&&!1===n&&r.push(o),!1===h&&(n=!1,e=[]),r}},Vl=t=>{let n,e=-1;Nt(t.length).times((r=>{t[r]?.path?.length>t[r+1]?.path?.length&&e<t[r]?.path?.length&&(e=t[r]?.path?.length,n=r)}));let r=t;return void 0!==n&&(r=[...t],r[n]={value:r[n].value,path:r[n].path.slice(0,-1)}),r},Jl=t=>t[0]?.value??t?.value;function Gl({numberOfThreads:t=1/0,mockupsObj:n={}}={numberOfThreads:1/0,mockupsObj:{}}){return{build:function e(r){const o=Xf(Ll,function(t){return n=>t?n.map((({path:n,value:e})=>void 0!==t?.[e.name]?"function"==typeof t[e.name]?{value:t[e.name],path:n}:{value:()=>t[e.name],path:n}:{value:e,path:n})):n}(n),tl((t=>t.length>1))(tl(...function(){let t;return[function(n){const e=n?.length<t?.length||void 0===t;return t=n,e},function(){t=void 0}]}())(zl,(t=>n=>n.reduce(Yl(t),[]))(t)),Vl),Jl)(r);return o.rebuild=o=>(function(e){({numberOfThreads:t,mockupsObj:n}=e)}(o),e(r)),o},map:function(n,e=t){return t=>Array.isArray(t)?rl(e)(t.map((t=>n.bind(n,t))))():[n(t)]}}}var Hl=function t(n,e){if(!Zl(n))throw new Error("First argument must be an object");if(!(e instanceof Function))throw new Error("Second argument must be a function");var r={},o=Object.keys(n),u=o.length;for(let c=0;c<u;c++){var i=o[c],a=n[i];r[i]=Zl(a)?t(a,e):e(a,i)}return r};function Zl(t){return"[object Object]"===Object.prototype.toString.call(t)}const Kl=(t,n)=>{if("string"!=typeof n||n.length<1)return n;const e="length="+n.length;if(n.length>=e.length){const t=Math.floor((n.length-e.length)/2);return e.padEnd(e.length+t,"*").padStart(n.length,"*")}return"".padEnd(n.length,"*")},Ql=(t,n)=>n.substring(0,7)+Kl(0,n.substring(7)),Xl={ibmApis:[{value:/^Bearer .*$/i,replacer:Ql},{field:/^client_secret$/i,replacer:Kl},{field:/^x-ibm-client-secret$/i,replacer:Kl},{field:/.*token$/i,replacer:Kl},{field:/^jwt$/i,replacer:Kl},{field:/^authorization$/i,replacer:Kl},{field:/^deviceId$/i,replacer:Kl}],pushNotification:[{field:/^body$/i,type:"string",replacer:Kl},{field:/^title$/i,replacer:Kl},{sanitizer:(t,n)=>"customer"===t?.toLowerCase()?"F"+Kl(0,n.substring(1)):n}]};function tp(t){return"object"==typeof t&&"RegExp"===t.constructor.name}function np(t){return t.flatMap((t=>{let n;return n="string"==typeof t?Xl[t]:t,function(t){t.forEach((t=>{let n={rule:void 0,ops:0,name:void 0};if(void 0!==t.sanitizer&&(n.ops=n.ops+1,n.rule=t.sanitizer,n.name="sanitizer"),void 0!==t.field&&(n.ops=n.ops+2,n.rule=t.field,n.name="field"),void 0!==t.value&&(n.ops=n.ops+4,n.rule=t.value,n.name="value"),void 0===n.name)throw new E("SANITIZER_DEF_ERROR","Expected at least one filled property of: value, field or sanitizer.",t);if("field"===n.name&&"string"!=typeof n.rule&&!1===tp(n.rule))throw new E("SANITIZER_DEF_ERROR","field property must be of string type",t);if(void 0!==t.type&&-1===["string","object","number","boolean"].indexOf(t.type))throw new E("SANITIZER_DEF_ERROR","type property must be of a valid type: string, object, number or boolean",t);if("sanitizer"===n.name&&"function"!=typeof n.rule)throw new E("SANITIZER_DEF_ERROR","sanitizer property must be a function.",t);if(-1!==[3,5,6,7].indexOf(n.ops))throw new E("SANITIZER_DEF_ERROR",(n>6?3:2)+" properties informed and only one allowed between: sanitizer, value or field.",t);if(void 0===t.replacer&&void 0===t.sanitizer)throw new E("SANITIZER_DEF_ERROR","Replacer OR sanitizer property must be defined.",t);if(void 0!==t.replacer&&void 0!==t.sanitizer)throw new E("SANITIZER_DEF_ERROR","Replacer AND sanitizer cannot be used together",t)}))}(n),n}))}function ep(t,n=["ibmApis"],e){const r=Ml.levelNumber(e);if(void 0!==r&&Ml.getLevel()<=r)return t;const o=np(n);return Hl(t,(function(t,n){if(null==t||0===Object.keys(t).length)return t;for(let{field:e,value:r,type:c,sanitizer:s,replacer:f}of o){if(!1===a(t,c))return t;if(void 0!==s)return s(n,t);if(void 0!==e&&u(e,n,t,n))return i(f,n,t);if(void 0!==r&&u(r,n,t,t))return i(f,n,t)}}));function u(t,n,e,r){return"function"==typeof t?t(n,e):tp(t)&&"string"==typeof r?r?.match(t):kl(t,r)}function i(t,n,e){return"function"==typeof t?t(n,e):t}function a(t,n){return void 0===n||typeof t===n}}export{Al as Chrono,E as CustomError,x as Enum,O as EnumMap,Tf as F,fl as Index,dc as R,Nf as RE,il as RLog,ll as Table,sl as Text,_l as Timeline,Z as YYYY_MM_DD_hh_mm_ss_ToUtcDate,tt as addDays,e as anonymize,N as arrayOfObjectsToObject,yt as arraySorter,T as arrayToObject,Ql as bearerSanitizer,Cf as between,Tt as cleanString,Rt as cloneCopy,ct as colorByStatus,it as colorMessage,at as colorMessageByStatus,ut as colors,pl as consoleTable,hl as consoleTableExtended,M as copyPropsWithValue,R as copyPropsWithValueUsingRules,j as createCustomErrorClass,G as dateFormatter,K as dateToObj,ft as deepFreeze,Q as diffInDaysYYYY_MM_DD,qf as exclude,jl as fetchImproved,Nl as ffletchMaker,Ot as fillWith,dt as filterFlatMap,Lf as filterMap,st as findDeepKey,Jf as findSolution,C as firstCapital,Sl as fletch,H as formatDate,lt as getAt,et as getSameDateOrPreviousFridayForWeekends,$f as groupByWithCalc,z as indexOfNthMatch,If as innerRightJoinWith,V as isDate,rt as isDateMidnight,k as isEmpty,gt as isPromise,J as isStringADate,Kl as lengthSanitizer,Ml as log,A as logWithPrefix,It as loopIndexGenerator,Wf as mapWithNext,Bf as mapWithPrevious,Df as matchByPropId,xt as memoize,ul as mergeArrayOfObjectsRenamingProps,_t as notTo,$t as oneIn,nl as parallel,Gf as partialAtPos,ol as pickPaths,Xf as pipe,tl as pipeWhile,Qf as pipeWithChain,Gl as plan,nt as previousDayOfWeek,Ft as processExit,P as project,kt as promiseAll,Tl as promiseFunToFutureFun,jt as pushAt,At as pushUniqueKey,Et as pushUniqueKeyOrChange,D as queryObjToStr,$ as removeDuplicates,Nt as repeat,St as replaceAll,bt as retryWithSleep,rl as runFunctionsSyncOrParallel,el as runFutureFunctionsInParallel,ep as sanitize,pt as setAt,ot as setDateToMidnight,vt as sleep,wt as sleepWithFunction,mt as sleepWithValue,Vf as something,ht as sorterByPaths,Uf as splitCond,X as subtractDays,S as transition,I as traverse,F as traverseVertically,Hf as uncurry,Ff as unionWithHashKeys,kf as updateWithHashKeys,B as urlCompose,q as urlDecompose,U as varSubsDoubleBracket,Mt as wildcardToRegExp};
